---
layout: /src/layouts/Layout.astro
title: "åªè¦æ‰” JSONï¼ŒTypeScript ç±»å‹å®šä¹‰å°±å‡ºæ¥äº†ï¼(feat. Zod)"
author: "Zzabbis"
date: "2026-02-04"
updatedDate: "2026-02-04"
category: "ç¼–ç /å¼€å‘"
description: "å°†å¤æ‚çš„ JSON æ•°æ®è‡ªåŠ¨è½¬æ¢ä¸º TypeScript æ¥å£æˆ– Zod æ¶æ„çš„æç¤ºè¯ã€‚"
tags: ["TypeScript", "Zod", "JSON", "ç±»å‹å®šä¹‰", "ç”Ÿäº§åŠ›"]
---

# ğŸ“ åªè¦æ‰” JSONï¼ŒTypeScript ç±»å‹å®šä¹‰å°±å‡ºæ¥äº†ï¼(feat. Zod)

**ğŸ¯ æ¨èå¯¹è±¡:** æ‰€æœ‰äºº
**â±ï¸ æ‰€éœ€æ—¶é—´:** 5 åˆ†é’Ÿ
**ğŸ¤– æ¨èæ¨¡å‹:** æ‰€æœ‰ AI æ¨¡å‹

|  éš¾åº¦   |   æœ‰æ•ˆæ€§   |  å®ç”¨æ€§   |
| :-----: | :--------: | :-------: |
| â­â­â˜†â˜†â˜† | â­â­â­â­â­ | â­â­â­â­â˜† |

_â€œåç«¯ API å“åº”è¿™ä¹ˆå¤æ‚ï¼Œè¿™äº›ä»€ä¹ˆæ—¶å€™æ‰èƒ½éƒ½åšæˆæ¥å£å•Šï¼Ÿâ€_

`interface User { ... }` è¿˜åœ¨ä¸€ä¸ªä¸ªæ•²å—ï¼Ÿ
åµŒå¥—å¯¹è±¡ã€æ•°ç»„ã€å¯é€‰å€¼... æœ€å®¹æ˜“å‡ºé”™äº†ã€‚
åªè¦å¤åˆ¶ç²˜è´´ API å“åº” JSONã€‚ä¸ä»…æ˜¯å®Œç¾çš„ TypeScript ç±»å‹å®šä¹‰ï¼Œè¿ç”¨äºè¿è¡Œæ—¶éªŒè¯çš„ Zod æ¶æ„éƒ½ç»™ä½ åšå¥½äº†ã€‚

---

## âš¡ï¸ 3 è¡Œæ€»ç»“ (TL;DR)

1. å°† JSON æ•°æ®è½¬æ¢ä¸º TypeScript Interface/Type
2. ç”Ÿæˆç”¨äºè¿è¡Œæ—¶æœ‰æ•ˆæ€§æ£€æŸ¥çš„ Zod/Yup æ¶æ„
3. åµŒå¥—ç»“æ„ (Nested Object) ä¹Ÿå®Œç¾å¤„ç†

---

## ğŸš€ è§£å†³æ–¹æ¡ˆï¼šâ€œç±»å‹å¤§å¸ˆâ€

### ğŸ¥‰ Basic Version (åŸºç¡€ç‰ˆ)

å½“ä½ åªéœ€è¦å¿«é€Ÿç»“æœæ—¶ä½¿ç”¨ã€‚

> **è§’è‰²:** ä½ æ˜¯ç²¾é€š TypeScript ç”Ÿæ€ç³»ç»Ÿçš„é¦–å¸­å¼€å‘è€…ã€‚
> **è¯·æ±‚:** è¯·åˆ¶ä½œå°†å¤æ‚çš„ JSON æ•°æ®è‡ªåŠ¨è½¬æ¢ä¸º TypeScript æ¥å£æˆ– Zod æ¶æ„çš„æç¤ºè¯ã€‚

<br>

### ğŸ¥‡ Pro Version (ä¸“å®¶ç‰ˆ)

å½“ä½ éœ€è¦è¯¦ç»†è´¨é‡æ—¶ä½¿ç”¨ã€‚

è¯·å¤åˆ¶ä»¥ä¸‹ **PROMPT** å†…å®¹ä½¿ç”¨ã€‚

> **è§’è‰² (Role):** ä½ æ˜¯ç²¾é€š TypeScript ç”Ÿæ€ç³»ç»Ÿçš„é¦–å¸­å¼€å‘è€…ã€‚
>
> **æƒ…å†µ (Context):** ä»å¤–éƒ¨ API æ”¶åˆ°äº† JSON æ•°æ®ï¼Œä¸ºäº†åœ¨æˆ‘çš„é¡¹ç›®ä¸­å®‰å…¨åœ°ä½¿ç”¨å®ƒï¼Œéœ€è¦ç±»å‹å®šä¹‰ã€‚
>
> **ä»»åŠ¡ (Task):**
>
> 1. åŸºäºä¸‹é¢çš„ JSON æ•°æ®ç¼–å†™ **TypeScript Interface**ã€‚(åç§°ç”¨å¸•æ–¯å¡å‘½åæ³•)
> 2. ä¸ºäº†è¿è¡Œæ—¶éªŒè¯ï¼Œè¯·ä¸€èµ·ç¼–å†™ **Zod æ¶æ„ (Schema)**ã€‚
> 3. ä¹Ÿè¯·åŒ…å«ä» Zod æ¶æ„æ¨æ–­ç±»å‹ (`z.infer`) çš„ä»£ç ã€‚
>
> **JSON æ•°æ®:**
>
> ```text
> [è¯·åœ¨æ­¤å¤„ç²˜è´´ JSON æ•°æ®]
> ```
>
> **çº¦æŸäº‹é¡¹ (Constraints):**
>
> - å‡è®¾æ‰€æœ‰å­—æ®µé»˜è®¤ä¸ºå¿…é¡» (required)ï¼Œåªæœ‰åŒ…å« `null` çš„æƒ…å†µæ‰å¤„ç†ä¸ºå¯é€‰ (`?`)ã€‚
> - æ•°ç»„é‡Œçš„å¯¹è±¡ä¹Ÿè¯·åˆ†ç¦»ä¸ºå•ç‹¬çš„æ¥å£è¿›è¡Œå®šä¹‰ã€‚
> - è¯·åŠ ä¸Š JSDoc æ³¨é‡Šï¼Œ(æ¨æ–­) è¯´æ˜å„å­—æ®µæ˜¯ä»€ä¹ˆã€‚

---

## ğŸ§¬ æç¤ºè¯è§£å‰– (Why it works?)

---

## ğŸ“Š è¯æ˜: Before & After

### âŒ Before (è¾“å…¥ JSON)

```text
{
  "id": 1,
  "name": "Jay",
  "contact": {
    "email": "jay@test.com",
    "phone": null
  },
  "tags": ["developer", "admin"]
}
```

### âœ… After (ç»“æœ)

```typescript
import { z } from "zod";

// 1. Zod Schema Definition
export const ContactSchema = z.object({
  email: z.string().email(),
  phone: z.string().nullable().optional(), // Null å¤„ç†
});

export const UserSchema = z.object({
  id: z.number(),
  name: z.string(),
  contact: ContactSchema,
  tags: z.array(z.string()),
});

// 2. TypeScript Type Inference
/** ç”¨æˆ·ä¿¡æ¯æ¥å£ */
export type User = z.infer<typeof UserSchema>;
export type Contact = z.infer<typeof ContactSchema>;
```

---

## ğŸ¯ ç»“è®º

ç±»å‹å®šä¹‰æ˜¯å®‰å…¨è£…ç½®ï¼Œä½†åˆ¶é€ å®ƒçš„è¿‡ç¨‹ä¸åº”è¯¥æ˜¯ç—›è‹¦çš„ã€‚
ç”¨ä¸€æ¬¡å¤åˆ¶ç²˜è´´æ„å»ºå®‰å…¨åšå›ºçš„ç±»å‹ç³»ç»Ÿå§ï¼ğŸ·
