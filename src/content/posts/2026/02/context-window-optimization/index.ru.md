---
title: "Optimizing for Million-Token Context Windows (Russian)"
description: "–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–π—Ç–µ –±–æ–ª—å—à–∏–µ –æ–±—ä–µ–º—ã –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é —á–µ—Ç–∫–∏—Ö —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–∏—Å–∫–∞ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞."
date: "2026-02-15"
image: "/images/blog/default-ai.jpg"
tags: ["AI", "Tech", "context-window-optimization"]
---

# üìù –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –æ–∫–Ω–∞ –≤ –º–∏–ª–ª–∏–æ–Ω —Ç–æ–∫–µ–Ω–æ–≤

- **üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è:** AI-–∏–Ω–∂–µ–Ω–µ—Ä–æ–≤, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- **‚è±Ô∏è –≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏:** –æ—Ç —á–∞—Å–æ–≤ –æ—Ç–ª–∞–¥–∫–∏ ‚Üí –∫ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
- **ü§ñ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏:** –ú–æ–¥–µ–ª–∏ —Å –±–æ–ª—å—à–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (Gemini 1.5 Pro, Claude 3 Opus, GPT-4 Turbo)

- ‚≠ê **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚òÜ‚òÜ
- ‚ö°Ô∏è **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
- üöÄ **–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

> _"–ú–∏–ª–ª–∏–æ–Ω —Ç–æ–∫–µ–Ω–æ–≤ –≤ –ø—Ä–æ–º–ø—Ç–µ ‚Äî —ç—Ç–æ –Ω–µ –º–∞–≥–∏—è, –∞ –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–π –≤—ã–∑–æ–≤. –ë–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–¥–µ–ª—å –ø—Ä–æ—Å—Ç–æ '–∑–∞–±—É–¥–µ—Ç' —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ."_

–≠–ø–æ—Ö–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –æ–∫–æ–Ω —Ä–∞–∑–º–µ—Ä–æ–º –≤ –º–∏–ª–ª–∏–æ–Ω —Ç–æ–∫–µ–Ω–æ–≤ –º–µ–Ω—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –ò–ò. –ú—ã —Å—Ç—Ä–µ–º–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ—à–ª–∏ –æ—Ç –∂–µ—Å—Ç–∫–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤ 4K –∏ 8K —Ç–æ–∫–µ–Ω–æ–≤, –≥–¥–µ –∫–∞–∂–¥—ã–π —Å–∏–º–≤–æ–ª –±—ã–ª –Ω–∞ —Å—á–µ—Ç—É, –∫ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ü–µ–ª—ã–µ —Ä–æ–º–∞–Ω—ã, –∫–æ–¥–æ–≤—ã–µ –±–∞–∑—ã –∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –∞—Ä—Ö–∏–≤—ã –≤ –æ–¥–∏–Ω –ø—Ä–æ–º–ø—Ç.

–û–¥–Ω–∞–∫–æ —ç—Ç–æ –∏–∑–æ–±–∏–ª–∏–µ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –ø—Ä–æ–±–ª–µ–º—É: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–Ω–∏–º–∞–Ω–∏–µ–º –º–æ–¥–µ–ª–∏. –¢–æ, —á—Ç–æ –º–æ–¥–µ–ª—å _–º–æ–∂–µ—Ç_ –ø–æ–≥–ª–æ—Ç–∏—Ç—å –º–∏–ª–ª–∏–æ–Ω —Ç–æ–∫–µ–Ω–æ–≤, –Ω–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω–∞ —Å–º–æ–∂–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –±–µ–∑ –≤–∞—à–µ–π –ø–æ–º–æ—â–∏. –§–æ–∫—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–æ–ª–∂–µ–Ω —Å–º–µ—Å—Ç–∏—Ç—å—Å—è —Å —ç–∫–æ–Ω–æ–º–∏–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –Ω–∞ –µ–≥–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É.

---

## ‚ö°Ô∏è 3 –∫—Ä–∞—Ç–∫–∏—Ö –≤—ã–≤–æ–¥–∞ (TL;DR)

1. **–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ ‚Äî –≤–∞—à–µ –≤—Å—ë:** –û–±–æ—Ä–∞—á–∏–≤–∞–π—Ç–µ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏ (–∫–æ–¥, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é) –≤ —á–µ—Ç–∫–∏–µ XML-—Ç–µ–≥–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `<docs>`, `<source>`).
2. **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (RAG + –∫–æ–Ω—Ç–µ–∫—Å—Ç):** –ù–µ –æ—Ç–∫–∞–∑—ã–≤–∞–π—Ç–µ—Å—å –æ—Ç RAG. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–∫–Ω–æ –¥–ª—è "—Ä–∞–±–æ—á–µ–≥–æ –Ω–∞–±–æ—Ä–∞" –¥–∞–Ω–Ω—ã—Ö, –∞ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –ø–æ–¥—Ç—è–≥–∏–≤–∞–π—Ç–µ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –∑–∞—Ç—Ä–∞—Ç.
3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∞–∂–Ω–µ–µ –æ–±—ä–µ–º–∞:** –ë–µ—Å—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ 50 000 —Å—Ç—Ä–æ–∫ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ —Ñ–µ–Ω–æ–º–µ–Ω—É "–ø–æ—Ç–µ—Ä—è–Ω–Ω–æ–≥–æ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ" (lost in the middle), –∫–æ–≥–¥–∞ –º–æ–¥–µ–ª—å –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ü–µ–Ω—Ç—Ä–∞ –ø—Ä–æ–º–ø—Ç–∞.

---

## üöÄ –†–µ—à–µ–Ω–∏–µ: "–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–≤–µ—Ä—Ö–±–æ–ª—å—à–∏—Ö –ø—Ä–æ–º–ø—Ç–æ–≤"

### ü•â Basic Version (–ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–¥–∞—á —Å –æ–±—ä–µ–º–Ω—ã–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏ (–¥–æ 100k —Ç–æ–∫–µ–Ω–æ–≤).

> **–†–æ–ª—å:** –¢—ã ‚Äî —Å—Ç–∞—Ä—à–∏–π `[–¥–æ–ª–∂–Ω–æ—Å—Ç—å/—Ä–æ–ª—å]`.
> **–ó–∞–¥–∞—á–∞:** –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –Ω–∏–∂–µ –¥–∞–Ω–Ω—ã–µ –∏ `[–æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏]`.
>
> **–î–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:**
>
> ---
>
> `[–í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à –æ–±—ä–µ–º–Ω—ã–π —Ç–µ–∫—Å—Ç –∑–¥–µ—Å—å]`
>
> ---
>
> **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** –û–ø–∏—Ä–∞–π—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç. –ï—Å–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–µ—Ç, —Å–∫–∞–∂–∏ –æ–± —ç—Ç–æ–º.

<br>

### ü•á Pro Version (–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å XML-—Ç–µ–≥–∞–º–∏)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á, –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–æ–≤—ã—Ö –±–∞–∑ –∏–ª–∏ –º—É–ª—å—Ç–∏–¥–æ–∫—É–º–µ–Ω—Ç–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ (–¥–æ 1M+ —Ç–æ–∫–µ–Ω–æ–≤).

> **–†–æ–ª—å (Role):** –¢—ã ‚Äî –≤–µ–¥—É—â–∏–π AI-–∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏–∫.
>
> **–°–∏—Ç—É–∞—Ü–∏—è (Context):**
>
> - –§–æ–Ω: –ú—ã –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –º–∞—Å—à—Ç–∞–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.
> - –¶–µ–ª—å: `[–í–∞—à–∞ –∫–æ–Ω–µ—á–Ω–∞—è —Ü–µ–ª—å, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ù–∞–π—Ç–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ / –°–¥–µ–ª–∞—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ / –°–æ—Å—Ç–∞–≤–∏—Ç—å —Å–∞–º–º–∞—Ä–∏]`
>
> **–ó–∞–¥–∞—á–∞ (Task):**
>
> 1. –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—É—é –∫–æ–¥–æ–≤—É—é –±–∞–∑—É –≤–Ω—É—Ç—Ä–∏ —Ç–µ–≥–æ–≤ `<source_code>`.
> 2. –°–æ–ø–æ—Å—Ç–∞–≤—å –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –∏–∑ —Ç–µ–≥–æ–≤ `<documentation>`.
> 3. –í—ã–ø–æ–ª–Ω–∏ `[–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å]`.
>
> **–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–∞–Ω–Ω—ã—Ö (Data):**
>
> <documentation>
> `[–í—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏–ª–∏ –ø—Ä–∞–≤–∏–ª–∞]`
> </documentation>
>
> <source_code>
> `[–í—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –∏–ª–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ]`
> </source_code>
>
> **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (Constraints):**
>
> - –í—ã–≤–æ–¥–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º.
> - –°—Å—ã–ª–∞–π—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –∏–ª–∏ –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫ –ø—Ä–∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏–∏ –∫–æ–¥–∞.
>
> **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (Warning):**
>
> - –ù–µ –ø—Ä–∏–¥—É–º—ã–≤–∞–π (–≥–∞–ª–ª—é—Ü–∏–Ω–∏—Ä—É–π) —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ `<source_code>`. –ï—Å–ª–∏ —á–µ–≥–æ-—Ç–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–ª—è —Ä–µ—à–µ–Ω–∏—è, –ø—Ä—è–º–æ —Å–æ–æ–±—â–∏ –æ–± —ç—Ç–æ–º.

---

## üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞–≤—Ç–æ—Ä–∞ (Insight)

–û–≥—Ä–æ–º–Ω–æ–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ–≤–æ—Ü–∏—Ä—É–µ—Ç –Ω–∞—Å –ø—Ä–æ—Å—Ç–æ "—Å–∫–∏–Ω—É—Ç—å –≤—Å—ë –≤ –∫—É—á—É" –∏ –Ω–∞–∂–∞—Ç—å Enter. –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —ç—Ç–æ —á–∞—Å—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ç–æ–º—É, —á—Ç–æ –º–æ–¥–µ–ª—å –≤—ã–¥–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –∏–ª–∏ —É–ø—É—Å–∫–∞–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ XML-–ø–æ–¥–æ–±–Ω—ã—Ö —Ç–µ–≥–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `<module_a>`, `<guidelines>`) –¥–µ–π—Å—Ç–≤—É–µ—Ç –∫–∞–∫ "–∫–∞—Ä—Ç–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏" –¥–ª—è –º–µ—Ö–∞–Ω–∏–∑–º–∞ –≤–Ω–∏–º–∞–Ω–∏—è (attention mechanism) –Ω–µ–π—Ä–æ—Å–µ—Ç–∏.

–ë–æ–ª–µ–µ —Ç–æ–≥–æ, –Ω–µ —Å—Ç–æ–∏—Ç —Ö–æ—Ä–æ–Ω–∏—Ç—å RAG (Retrieval-Augmented Generation). –ó–∞–≥—Ä—É–∑–∫–∞ –º–∏–ª–ª–∏–æ–Ω–∞ —Ç–æ–∫–µ–Ω–æ–≤ –∫–∞–∂–¥—ã–π —Ä–∞–∑ —Å—Ç–æ–∏—Ç –¥–æ—Ä–æ–≥–æ –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∑–∞–¥–µ—Ä–∂–∫—É (latency). –õ—É—á—à–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω —Å–µ–≥–æ–¥–Ω—è ‚Äî —ç—Ç–æ **–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (Context Caching)** –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ RAG –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –ø–æ–¥–≥—Ä—É–∑–∫–∏ —Ç–æ–ª—å–∫–æ —Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –Ω—É–∂–Ω–∞ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.

---

## üôã –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã (FAQ)

- **Q: –ó–∞—á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å XML-—Ç–µ–≥–∏, –µ—Å–ª–∏ –ò–ò –ø–æ–Ω–∏–º–∞–µ—Ç –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç?**
  - A: –û–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç —Ö–æ—Ä–æ—à –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –ø—Ä–æ–º–ø—Ç–æ–≤. –í –º–∞—Å—à—Ç–∞–±–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö —Ç–µ–≥–∏ –ø–æ–º–æ–≥–∞—é—Ç –º–æ–¥–µ–ª–∏ —á–µ—Ç–∫–æ –æ—Ç–¥–µ–ª–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –æ—Ç –¥–∞–Ω–Ω—ã—Ö, —Å–Ω–∏–∂–∞—è —Ä–∏—Å–∫ —Ç–æ–≥–æ, —á—Ç–æ –∫—É—Å–æ–∫ –∫–æ–¥–∞ –±—É–¥–µ—Ç –≤–æ—Å–ø—Ä–∏–Ω—è—Ç –∫–∞–∫ –∫–æ–º–∞–Ω–¥–∞.

- **Q: –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ –º–æ–¥–µ–ª–∏ "–∑–∞–±—ã–≤–∞—é—Ç" –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ —Ç–µ–∫—Å—Ç–∞?**
  - A: –î–∞, —ç—Ç–æ –∏–∑–≤–µ—Å—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ "Lost in the Middle". –ß–µ—Ç–∫–æ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –≤ –∫–æ–Ω—Ü–µ –ø—Ä–æ–º–ø—Ç–∞ –ø–æ–º–æ–≥–∞—é—Ç –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —ç—Ñ—Ñ–µ–∫—Ç.

- **Q: –°—Ç–æ–∏—Ç –ª–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤–æ–æ–±—â–µ –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç?**
  - A: –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ —ç—Ç–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –∑–∞–¥–∞—á–∏, —Ç—Ä–µ–±—É—é—â–µ–π –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–∞—Å—à—Ç–∞–±–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥). –î–ª—è —Ç–æ—á–µ—á–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–µ—à–µ–≤–ª–µ –∏ –±—ã—Å—Ç—Ä–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –∏–ª–∏ RAG.

---

## üß¨ –ê–Ω–∞—Ç–æ–º–∏—è –ø—Ä–æ–º–ø—Ç–∞ (Why it works?)

1. **–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ (Delimiters):** –¢–µ–≥–∏ `<documentation>` –∏ `<source_code>` –∏–∑–æ–ª–∏—Ä—É—é—Ç –¥–∞–Ω–Ω—ã–µ, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è "–∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ" –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.
2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–Ω–∏–º–∞–Ω–∏–µ–º:** –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ–¥–µ–ª—å –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ –¥–∞–Ω–Ω—ã—Ö, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ "—Å–∫–æ–ª—å–∑–∏—Ç—å" –ø–æ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏.
3. **–ó–∞—â–∏—Ç–∞ –æ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π:** –ñ–µ—Å—Ç–∫–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ–ø–∏—Ä–∞—Ç—å—Å—è _—Ç–æ–ª—å–∫–æ_ –Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ —Å—Ç—Ä–∞—Ö—É–µ—Ç –æ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π.

---

## üìä –î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ: Before & After

### ‚ùå Before (–ü–ª–æ—Ö–æ–π –ø–æ–¥—Ö–æ–¥: —Ç–µ–∫—Å—Ç —Å–ø–ª–æ—à–Ω—è–∫–æ–º)

```text
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —ç—Ç–æ—Ç –∫–æ–¥ –∏ –Ω–∞–π–¥–∏ –æ—à–∏–±–∫—É.
function a() { ... }
// [–µ—â–µ 10000 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞]
–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–æ–≤–æ—Ä–∏—Ç —á—Ç–æ a –¥–æ–ª–∂–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å true...
// [–µ—â–µ 5000 —Å—Ç—Ä–æ–∫]
```

### ‚úÖ After (–•–æ—Ä–æ—à–∏–π –ø–æ–¥—Ö–æ–¥: —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç)

```text
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –º–µ–∂–¥—É –∫–æ–¥–æ–º –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π.

<documentation>
–§—É–Ω–∫—Ü–∏—è `a` –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `true`.
</documentation>

<source_code>
function a() { ... }
// [–æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥]
</source_code>
```

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ú–∏–ª–ª–∏–æ–Ω —Ç–æ–∫–µ–Ω–æ–≤ ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –Ω–æ –æ–Ω –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –∏–Ω–∂–µ–Ω–µ—Ä–∏—é. –£—Å–ø–µ—Ö –≤ —ç—Ç—É –Ω–æ–≤—É—é —ç—Ä—É –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ –≤—ã –æ—Ä–≥–∞–Ω–∏–∑—É–µ—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –°–æ—Ö—Ä–∞–Ω—è—è —Å—Ç—Ä–æ–≥—É—é –≥–∏–≥–∏–µ–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –≥—Ä–∞–º–æ—Ç–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä—É—è –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å RAG, –≤—ã —Ä–∞—Å–∫—Ä–æ–µ—Ç–µ –∏—Å—Ç–∏–Ω–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –±–æ–ª—å—à–∏—Ö –º–æ–¥–µ–ª–µ–π –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞.

–ö–æ–Ω—Ç–µ–∫—Å—Ç —Å—Ç–∞–ª –±–æ–ª—å—à–µ, –Ω–æ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ —è—Å–Ω–æ—Å—Ç–∏ –æ—Å—Ç–∞–ª–∞—Å—å –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–π. –£—Å–ø–µ—à–Ω—ã—Ö –≤–∞–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–π!
