---
layout: /src/layouts/Layout.astro
title: "Redis ìºì‹± ì „ëµ: ì¡°íšŒ ì†ë„ 100ë°° ë¹ ë¥´ê²Œ ë§Œë“¤ê¸°"
author: "ZZabbis"
date: "2026-02-11"
updatedDate: "2026-02-11"
category: "ë°±ì—”ë“œ/DB"
description: "DB ë¶€í•˜ë¥¼ ì¤„ì´ê³  ì‘ë‹µ ì†ë„ë¥¼ ë†’ì´ëŠ” Redis í™œìš©ë²•. Look-aside, Write-back íŒ¨í„´ ì™„ë²½ ì •ë¦¬."
tags: ["Redis", "ìºì‹±", "ë°±ì—”ë“œ", "ì„±ëŠ¥ìµœì í™”", "DB"]
---

# (Updated) (Updated) (Updated) ğŸš€ Redis ìºì‹± ì „ëµ: ì¡°íšŒ ì†ë„ 100ë°° ë¹ ë¥´ê²Œ ë§Œë“¤ê¸°

- **ğŸ¯ ì¶”ì²œ ëŒ€ìƒ:** "DB CPUê°€ 100% ì³¤ì–´ìš”!" ë¹„ëª… ì§€ë¥´ëŠ” ë°±ì—”ë“œ ê°œë°œì, ë™ì‹œ ì ‘ì†ì ëª°ë¦¬ë©´ ì„œë²„ í„°ì§€ëŠ” ì„œë¹„ìŠ¤ ìš´ì˜ì
- **â±ï¸ ì†Œìš” ì‹œê°„:** 5ë¶„ (íŒ¨í„´ ì´í•´)
- **ğŸ¤– ì¶”ì²œ ëª¨ë¸:** Claude 3.5 Sonnet (ì•„í‚¤í…ì²˜ íŒ¨í„´ ì„¤ëª…)

- â­ **ë‚œì´ë„:** â­â­â­â˜†â˜†
- âš¡ï¸ **íš¨ê³¼ì„±:** â­â­â­â­â­
- ğŸš€ **í™œìš©ë„:** â­â­â­â­â­

_"DBëŠ” í•˜ë“œë””ìŠ¤í¬ê³ , RedisëŠ” ë©”ëª¨ë¦¬(RAM)ì…ë‹ˆë‹¤. ì†ë„ ì°¨ì´ê°€ ëª‡ ë°°ì¼ê¹Œìš”?"_

ìµœì†Œ 1,000ë°°ì…ë‹ˆë‹¤. ëª¨ë“  ìš”ì²­ì„ DBë¡œ ë³´ë‚´ëŠ” ê±´ ìì› ë‚­ë¹„ì…ë‹ˆë‹¤. ìì£¼ ì°¾ëŠ” ë°ì´í„°ëŠ” **Redis(ìºì‹œ)**ì— ì˜¬ë ¤ë‘ì„¸ìš”. ì‚¬ìš©ìëŠ” 0.001ì´ˆ ë§Œì— ì‘ë‹µì„ ë°›ê³ , DBëŠ” íœ´ì‹ì„ ì·¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## (Updated) (Updated) (Updated) âš¡ï¸ 3ì¤„ ìš”ì•½ (TL;DR) {#tl-dr}

1.  **Look-aside:** "ìºì‹œì— ìˆì–´? (Hit) -> ì¤˜. / ì—†ì–´? (Miss) -> DBì—ì„œ ê°€ì ¸ì™€ì„œ ìºì‹œì— ë„£ê³  ì¤˜." (ê°€ì¥ ë§ì´ ì”€)
2.  **Write-back:** "ì¼ë‹¨ ìºì‹œì— ë‹¤ ì ì–´. ë‚˜ì¤‘ì— í•œêº¼ë²ˆì— DBì— ì˜®ê¸¸ê²Œ." (ì“°ê¸°ê°€ ë§ì„ ë•Œ)
3.  **TTL:** "ì´ ë°ì´í„°ëŠ” 1ì‹œê°„ ë’¤ì— í­íŒŒí•´." (ë©”ëª¨ë¦¬ ê´€ë¦¬ í•„ìˆ˜)

---

## (Updated) (Updated) (Updated) ğŸš€ í•´ê²°ì±…: "Cache Strategy Prompt"

### (Updated) (Updated) (Updated) ğŸ¥‰ Basic Version (ê¸°ë³¸ ìºì‹± ë¡œì§)

í•¨ìˆ˜ì— ìºì‹œ ì”Œìš°ê¸°.

> **ì½”ë“œ:** (Node.js í•¨ìˆ˜) `getUserProfile(id)`
> **ìš”ì²­:** "ì´ í•¨ìˆ˜ì— Redis ìºì‹±ì„ ì ìš©í•´ì¤˜. í‚¤ëŠ” `user:{id}`ë¡œ í•˜ê³ , ë§Œë£Œ ì‹œê°„(TTL)ì€ 10ë¶„ìœ¼ë¡œ ì„¤ì •í•´ì¤˜. **Look-aside íŒ¨í„´**ìœ¼ë¡œ."

<br>

### (Updated) (Updated) (Updated) ğŸ¥‡ Pro Version (ìºì‹œ ìŠ¤íƒ¬í”¼ë“œ ë°©ì§€)

ëŒ€ê·œëª¨ íŠ¸ë˜í”½ì—ì„œì˜ ìºì‹œ ìš´ì˜.

> **ì—­í•  (Role):** ë„ˆëŠ” ê¸€ë¡œë²Œ ì„œë¹„ìŠ¤ ë°±ì—”ë“œ ì—”ì§€ë‹ˆì–´ì´ì•¼.
>
> **ìƒí™© (Context):**
>
> - ì¸ê¸° ì•„ì´ëŒ ì½˜ì„œíŠ¸ í‹°ì¼“íŒ… ì„œë¹„ìŠ¤.
> - ìºì‹œê°€ ë§Œë£Œë˜ëŠ” ìˆœê°„ ìˆ˜ë§Œ ëª…ì˜ ìš”ì²­ì´ ë™ì‹œì— DBë¡œ ëš«ê³  ë“¤ì–´ê° (**Cache Stampede** í˜„ìƒ).
>
> **ìš”ì²­ (Task):**
>
> 1.  **PER (Probabilistic Early Recomputation):** ë§Œë£Œë˜ê¸° ì „ì— í™•ë¥ ì ìœ¼ë¡œ ë¯¸ë¦¬ ê°±ì‹ í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì„ ì½”ë“œë¡œ ì§œì¤˜.
> 2.  **Mutex Lock:** í•œ ë²ˆì— í•˜ë‚˜ì˜ ìš”ì²­ë§Œ DBì— ì ‘ê·¼í•˜ê²Œ ë§‰ëŠ” ë½ êµ¬í˜„ ë°©ë²•ì„ ì•Œë ¤ì¤˜. (Redis `SETNX` í™œìš©)
> 3.  **ì¥ì•  ëŒ€ì‘:** Redisê°€ ì£½ìœ¼ë©´ ì–´ë–»ê²Œ í•´? (Circuit Breaker íŒ¨í„´)

---

## (Updated) (Updated) (Updated) ğŸ’¡ ì‘ì„±ì ì½”ë©˜íŠ¸ (Insight) {#insight}

RedisëŠ” **'íœ˜ë°œì„±'**ì…ë‹ˆë‹¤. ì „ì› êº¼ì§€ë©´ ë‚ ì•„ê°‘ë‹ˆë‹¤.
ì ˆëŒ€ë¡œ **"ì˜êµ¬ ë³´ì¡´í•´ì•¼ í•˜ëŠ” ë°ì´í„°(ê²°ì œ ë‚´ì—­, íšŒì› ì •ë³´)"**ë¥¼ Redisì—ë§Œ ì €ì¥í•˜ì§€ ë§ˆì„¸ìš”.
RedisëŠ” ìƒì–´ë²„ë ¤ë„ ë‹¤ì‹œ DBì—ì„œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ” ë°ì´í„°ë§Œ ë„£ëŠ” ê³³ì…ë‹ˆë‹¤.

---

## (Updated) (Updated) (Updated) ğŸ™‹ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ) {#faq}

- **Q: Memcachedë‘ ë­ê°€ ë‹¬ë¼ìš”?**
  - A: RedisëŠ” ìë£Œêµ¬ì¡°(List, Set, Hash)ë¥¼ ì§€ì›í•©ë‹ˆë‹¤. ë‹¨ìˆœ í‚¤-ê°’ ì €ì¥ì†Œ ì´ìƒì…ë‹ˆë‹¤. ë­í‚¹ ì„œë²„(Sorted Set) ë§Œë“¤ ë•Œ ìµœê³ ì…ë‹ˆë‹¤.

- **Q: ë©”ëª¨ë¦¬ ê½‰ ì°¨ë©´ ì–´ë–¡í•´ìš”?**
  - A: `maxmemory-policy` ì„¤ì •(ì˜ˆ: `allkeys-lru`)ì„ í†µí•´ ì•ˆ ì“°ëŠ” ë°ì´í„°ë¶€í„° ìë™ìœ¼ë¡œ ì§€ìš°ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## (Updated) (Updated) (Updated) ğŸ§¬ í”„ë¡¬í”„íŠ¸ í•´ë¶€ (Why it works?) {#why-it-works}

1.  **íŒ¨í„´ ì´ë¦„ ëª…ì‹œ:** "Look-aside", "Write-back" ê°™ì€ ì „ë¬¸ ìš©ì–´ë¥¼ ì“°ë©´ AIê°€ ì •í™•í•œ ë¡œì§ì„ êµ¬í˜„í•´ ì¤ë‹ˆë‹¤.
2.  **ì—£ì§€ ì¼€ì´ìŠ¤(Stampede):** ìºì‹œ ì‹œìŠ¤í…œì˜ ê°€ì¥ í° ì·¨ì•½ì ì¸ 'ë§Œë£Œ ì‹œì ì˜ í­ì£¼'ë¥¼ ì–¸ê¸‰í•˜ì—¬, ë‹¨ìˆœ ìºì‹± ì½”ë“œê°€ ì•„ë‹Œ **'ë°©íƒ„ ì¡°ë¼ ì…ì€ ì½”ë“œ'**ë¥¼ ì–»ì–´ëƒ…ë‹ˆë‹¤.

---

## (Updated) (Updated) (Updated) ğŸ“Š ì¦ëª…: Before & After

### (Updated) (Updated) (Updated) âŒ Before (No Cache)

ì‚¬ìš©ì 1ë§Œ ëª… ì ‘ì† -> DB ì»¤ë„¥ì…˜ í’€ ê³ ê°ˆ -> `Too many connections` ì—ëŸ¬ -> ì„œë²„ ë‹¤ìš´ ğŸ’£

### (Updated) (Updated) (Updated) âœ… After (Redis Cache)

ì‚¬ìš©ì 1ë§Œ ëª… ì ‘ì† -> 9,999ëª…ì€ Redisì—ì„œ 1ms ë§Œì— ë°ì´í„° ê°€ì ¸ê° -> DBëŠ” í‰ì˜¨í•¨ ğŸƒ

---

## (Updated) (Updated) (Updated) ğŸ¯ ê²°ë¡  {#conclusion}

DBë¥¼ ëŠ˜ë¦¬ëŠ” ê±´ ë¹„ì‹¸ì§€ë§Œ, Redisë¥¼ ë¶™ì´ëŠ” ê±´ ìŒ‰ë‹ˆë‹¤.
ê°€ì„±ë¹„ ìµœê³ ì˜ ì„±ëŠ¥ íŠœë‹.

**"ì¼ë‹¨ ìºì‹œì— ì˜¬ë ¤ë³´ì„¸ìš”."** ğŸ·

## (Updated) (Updated) (Updated) Conclusion

Wait, there is more...

## (Updated) (Updated) Conclusion

Wait, there is more...

## (Updated) Conclusion

Wait, there is more...
