---
layout: /src/layouts/Layout.astro
title: "éº»çƒ¦çš„ API æ–‡æ¡£åŒ–ï¼Œç»™ä»£ç å°±èƒ½æå®š Swagger"
author: "Zzabbis"
date: "2026-02-04"
updatedDate: "2026-02-04"
category: "ç¼–ç /å¼€å‘"
description: "åªéœ€ç²˜è´´ API ä»£ç ï¼Œå³å¯è‡ªåŠ¨ç”Ÿæˆæ ‡å‡†çš„ OpenAPI (Swagger) è§„èŒƒæˆ– Markdown æ ¼å¼çš„æ¥å£æ–‡æ¡£ã€‚"
tags: ["API", "æ–‡æ¡£åŒ–", "Swagger", "OpenAPI", "åç«¯"]
---

# ğŸ“ éº»çƒ¦çš„ API æ–‡æ¡£åŒ–ï¼Œç»™ä»£ç å°±èƒ½æå®š Swagger

- **ğŸ¯ æ¨èå¯¹è±¡:** åç«¯å¼€å‘è€…ã€å…¨æ ˆå·¥ç¨‹å¸ˆã€æŠ€æœ¯è´Ÿè´£äºº
- **â±ï¸ æ‰€éœ€æ—¶é—´:** 30åˆ†é’Ÿ â†’ 1åˆ†é’Ÿ
- **ğŸ¤– æ¨èæ¨¡å‹:** æ‰€æœ‰å¯¹è¯å‹ AI (ChatGPT, Claude, Gemini ç­‰)

- â­ **éš¾åº¦:** â­â˜†â˜†â˜†â˜†
- âš¡ï¸ **æœ‰æ•ˆæ€§:** â­â­â­â­â­
- ğŸš€ **å®ç”¨æ€§:** â­â­â­â­â­

> _â€œæ¥å£å†™å®Œäº†ï¼Œæ–‡æ¡£ä»€ä¹ˆæ—¶å€™ç»™ï¼Ÿï¼ˆå‰ç«¯å¼€å‘è€…ç»æœ›çš„å‡è§†ï¼‰â€_
> _â€œå•Š... é©¬ä¸Šé©¬ä¸Šï¼ï¼ˆå…¶å®è¿ä¸€è¡Œè¿˜æ²¡å†™ï¼‰â€_

æ¯”å†™ä»£ç æ›´ç—›è‹¦çš„ï¼Œéš¾é“ä¸æ˜¯å†™ API æ–‡æ¡£å—ï¼Ÿå‚æ•°ç±»å‹ã€æ˜¯å¦å¿…å¡«ã€å„ç§çŠ¶æ€ç çš„å“åº”ç¤ºä¾‹ï¼Œçº¯æ‰‹å·¥æ•²æ‰“ç®€ç›´æ˜¯æ¶ˆç£¨ç”Ÿå‘½çš„æ¯ç‡¥æ´»å„¿ã€‚

ç°åœ¨ï¼Œä½ åªéœ€è¦æŠŠ Controller æˆ– Router çš„ä»£ç ç›´æ¥æ‰”ç»™ AIï¼Œå®ƒå°±èƒ½ç¬é—´ä¸ºä½ ç”Ÿæˆç»“æ„å®Œç¾çš„ Swagger (OpenAPI) è§„èŒƒæˆ–æå…·å¯è¯»æ€§çš„ Markdown æ–‡æ¡£ã€‚

---

## âš¡ï¸ 3è¡Œæ€»ç»“ (TL;DR)

1. **ç²¾å‡†æå–**ï¼šç›´æ¥ä»ä»£ç é€»è¾‘ä¸­è§£æå‡ºç²¾ç¡®çš„è¯·æ±‚å‚æ•°ä¸å“åº”æ ¼å¼ã€‚
2. **æ ¼å¼è‡ªç”±**ï¼šå¯ä¸€é”®ç”Ÿæˆæ ‡å‡† OpenAPI (Swagger) YAML/JSON æˆ– Markdown è¡¨æ ¼ã€‚
3. **çœŸå®ç¤ºä¾‹**ï¼šè‡ªåŠ¨è¡¥å……ç¬¦åˆä¸šåŠ¡é€»è¾‘çš„ Mock æ•°æ®ï¼Œè®©å‰ç«¯ä¸€çœ‹å°±æ‡‚ã€‚

---

## ğŸš€ è§£å†³æ–¹æ¡ˆï¼š"API æ–‡æ¡£ç”Ÿæˆå™¨"

### ğŸ¥‰ Basic Version (åŸºç¡€ç‰ˆ)

å½“ä½ åªéœ€è¦å¿«é€Ÿç”Ÿæˆä¸€ä¸ªåŸºç¡€æ–‡æ¡£æ—¶ä½¿ç”¨ã€‚

> **è§’è‰²:** ä½ æ˜¯ä¸€ä½ä¸¥è°¨çš„æŠ€æœ¯ä½œå®¶å…¼èµ„æ·±åç«¯å¼€å‘è€…ã€‚
> **è¯·æ±‚:** è¯·åˆ†æä»¥ä¸‹ä»£ç ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºå¸¦æœ‰å‚æ•°è¯´æ˜å’Œå“åº”ç¤ºä¾‹çš„ Markdown API æ–‡æ¡£ã€‚
> **ä»£ç :**
> `[åœ¨æ­¤ç²˜è´´ä½ çš„ä»£ç ]`

<br>

### ğŸ¥‡ Pro Version (ä¸“å®¶ç‰ˆ)

å½“ä½ éœ€è¦äº¤ä»˜ç»™å‰ç«¯æˆ–ç¬¬ä¸‰æ–¹ï¼Œè¦æ±‚æé«˜æ ‡å‡†å’Œè¯¦ç»†è§„èŒƒæ—¶ä½¿ç”¨ã€‚

> **è§’è‰² (Role):** ä½ æ˜¯ä¸€ä½ä¸¥è°¨çš„æŠ€æœ¯ä½œå®¶å…¼èµ„æ·±åç«¯å¼€å‘è€…ã€‚
>
> **æƒ…å†µ (Context):**
>
> - èƒŒæ™¯: æˆ‘å·²ç»å®Œæˆäº†åç«¯æ¥å£çš„å¼€å‘ï¼Œç°åœ¨éœ€è¦ä¸ºå‰ç«¯å›¢é˜Ÿæä¾›æ¸…æ™°ã€æ ‡å‡†çš„ API æ¥å£æ–‡æ¡£ã€‚
> - ç›®æ ‡: åŸºäºæä¾›çš„ä»£ç ï¼Œè‡ªåŠ¨ç”Ÿæˆæ— é—æ¼ä¸”æ˜“äºé˜…è¯»çš„ API æ–‡æ¡£ã€‚
>
> **è¯·æ±‚ (Task):**
> åˆ†æä¸‹é¢æä¾›çš„ API ä»£ç ï¼Œå¹¶ä»¥ `[é€‰æ‹©ä½ éœ€è¦çš„æ ¼å¼: OpenAPI 3.0 YAML / Markdown Table]` çš„å½¢å¼ç¼–å†™æ–‡æ¡£ã€‚
> å¿…é¡»åŒ…å«ä»¥ä¸‹æ ¸å¿ƒè¦ç´ :
>
> 1. **Endpoint & Method:** URL è·¯å¾„å’Œ HTTP è¯·æ±‚æ–¹æ³•ã€‚
> 2. **Summary:** æ¥å£åŠŸèƒ½çš„ç®€çŸ­æè¿°ã€‚
> 3. **Request Parameters:** Body, Query, Path å‚æ•°ï¼ˆéœ€æ˜ç¡®æ•°æ®ç±»å‹ã€æ˜¯å¦å¿…å¡«åŠå­—æ®µè¯´æ˜ï¼‰ã€‚
> 4. **Response:** æˆåŠŸ (200) ä»¥åŠå¤±è´¥ (å¦‚ 400, 401, 500) æ—¶çš„å“åº”æ•°æ®ç»“æ„ï¼Œå¹¶æä¾›çœŸå®çš„ JSON ç¤ºä¾‹æ•°æ®ã€‚
>
> **ä»£ç :**
> `[åœ¨æ­¤ç²˜è´´ä½ çš„ Controller / Router ä»£ç ]`
>
> **çº¦æŸäº‹é¡¹ (Constraints):**
>
> - å¿…é¡»æ˜ç¡®æ ‡æ³¨æ‰€æœ‰æ•°æ®ç±»å‹ (å¦‚ String, Integer, Boolean, Array)ã€‚
> - å“åº”ç¤ºä¾‹ (Example Value) è¯·å‹¿ä½¿ç”¨ foo/bar ç­‰æ— æ„ä¹‰å­—ç¬¦ï¼Œå¿…é¡»å¡«å……ç¬¦åˆçœŸå®ä¸šåŠ¡åœºæ™¯çš„ Mock æ•°æ®ã€‚
> - å¦‚æœä»£ç ä¸­ç¼ºå°‘å¿…è¦çš„é”™è¯¯å¤„ç†ï¼Œè¯·åŸºäºä½ çš„ç»éªŒè¡¥å……æ ‡å‡†çš„ 400 æˆ– 500 å“åº”è§„èŒƒã€‚
>
> **æ³¨æ„ (Warning):**
>
> - è¯·ä¸¥æ ¼æ ¹æ®ä»£ç é€»è¾‘æ¨å¯¼å­—æ®µï¼Œä¸è¦å‡­ç©ºæé€ ä»£ç ä¸­ä¸å­˜åœ¨çš„å¿…å¡«ä¸šåŠ¡å‚æ•°ã€‚

---

## ğŸ’¡ åˆ›ä½œè€…æ´å¯Ÿ (Insight)

å†™ API æ–‡æ¡£å¾€å¾€æ˜¯å¼€å‘æµç¨‹ä¸­æœ€å®¹æ˜“äº§ç”Ÿæ‘©æ“¦çš„ç¯èŠ‚ã€‚è¿™ä¸ªæç¤ºè¯çš„ç²¾å¦™ä¹‹å¤„åœ¨äºå®ƒä¸ä»…**èŠ‚çœäº†æ—¶é—´**ï¼Œæ›´é‡è¦çš„æ˜¯**ä¿è¯äº†ä»£ç ä¸æ–‡æ¡£çš„ä¸€è‡´æ€§**ã€‚

è¿‡å»æˆ‘ä»¬ä¹ æƒ¯å…ˆå†™æ–‡æ¡£å†å†™ä»£ç ï¼Œæˆ–è€…å†™å®Œä»£ç å†å‡­è®°å¿†è¡¥å……æ–‡æ¡£ï¼Œè¿™ç»å¸¸å¯¼è‡´å­—æ®µé—æ¼æˆ–ç±»å‹é”™è¯¯ã€‚é€šè¿‡ç›´æ¥è®© AI åˆ†æçœŸå®çš„ Controller å±‚ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥æ•æ‰åˆ°è¯¸å¦‚ `if (!email) return res.status(400)` è¿™æ ·çš„éšå¼éªŒè¯é€»è¾‘ï¼Œä»è€Œåœ¨æ–‡æ¡£ä¸­è‡ªåŠ¨å°† `email` æ ‡è®°ä¸ºå¿…å¡«é¡¹ (Required)ã€‚

**å®æˆ˜æŠ€å·§**ï¼šå¦‚æœä½ ä½¿ç”¨çš„æ˜¯ TypeScript æˆ–å¸¦æœ‰ç±»å‹æç¤ºçš„è¯­è¨€ï¼ˆå¦‚ Go, Rust, Javaï¼‰ï¼Œç”±äºç±»å‹å®šä¹‰æ˜ç¡®ï¼Œç”Ÿæˆçš„æ•ˆæœä¼šç²¾ç¡®åˆ°ä»¤äººå‘æŒ‡çš„åœ°æ­¥ã€‚

---

## ğŸ™‹ å¸¸è§é—®é¢˜ (FAQ)

- **Q: ç”Ÿæˆçš„ Swagger YAML æŠ¥é”™ï¼Œæ— æ³•æ¸²æŸ“æ€ä¹ˆåŠï¼Ÿ**
  - A: å¶å°” AI ç”Ÿæˆçš„ YAML ä¼šæœ‰ç¼©è¿›é—®é¢˜ã€‚å»ºè®®åœ¨æç¤ºè¯çš„æ ¼å¼è¦æ±‚ä¸­æŒ‡å®š `ç”Ÿæˆ JSON æ ¼å¼çš„ OpenAPI è§„èŒƒ`ã€‚JSON æ ¼å¼çš„ç»“æ„æ›´åŠ ä¸¥è°¨ï¼Œç›´æ¥ç²˜è´´åˆ° Swagger Editor ä¸­å‡ ä¹ä¸ä¼šå‡ºé”™ã€‚

- **Q: å¦‚æœæˆ‘çš„æ¥å£ä¾èµ–äº†å¾ˆå¤šå¤æ‚çš„ DTO æˆ– Entity ç±»ï¼ŒAI èƒ½æ‡‚å—ï¼Ÿ**
  - A: å¦‚æœåªç»™ Controller ä»£ç ï¼ŒAI åªèƒ½çŒœå‡ºåŸºæœ¬å­—æ®µã€‚å¯¹äºå¤æ‚çš„åµŒå¥—ç»“æ„ï¼Œå»ºè®®æŠŠç›¸å…³çš„ DTOã€Model ç±»çš„ä»£ç ä¸€å¹¶å¤åˆ¶ç²˜è´´ç»™ AIï¼Œå®ƒä¼šå®Œç¾è§£æå‡ºæ‰€æœ‰çš„åµŒå¥—å…³ç³»å’ŒåµŒå¥—å¯¹è±¡çš„å‚æ•°è¯´æ˜ã€‚

---

## ğŸ§¬ æç¤ºè¯è§£å‰– (Why it works?)

1. **è§’è‰²èµ‹èƒ½ (Role)**ï¼šèµ‹äºˆâ€œæŠ€æœ¯ä½œå®¶å…¼åç«¯å¼€å‘è€…â€çš„åŒé‡èº«ä»½ï¼Œä¿è¯äº†ç”Ÿæˆå†…å®¹æ—¢æ‡‚ä»£ç é€»è¾‘ï¼Œåˆå…·å¤‡æ–‡æ¡£çš„æ’ç‰ˆç¾æ„Ÿã€‚
2. **ç»“æ„åŒ–æŒ‡ä»¤ (Task)**ï¼šå¼ºåˆ¶è¦æ±‚æŒ‰ Endpointã€Summaryã€Parametersã€Response å››å¤§æ ¸å¿ƒæ¿å—è¾“å‡ºï¼Œé¿å… AI é—æ¼å…³é”®ä¿¡æ¯ã€‚
3. **çœŸå®æ•°æ®çº¦æŸ (Constraints)**ï¼šæ˜ç¡®ç¦æ­¢ä½¿ç”¨æ— æ„ä¹‰çš„å ä½ç¬¦ï¼ˆå¦‚ test, fooï¼‰ï¼Œè¦æ±‚ç”ŸæˆçœŸå®çš„ä¸šåŠ¡æ•°æ®ï¼Œæå¤§åœ°æå‡äº†å‰ç«¯é˜…è¯»æ–‡æ¡£çš„ä½“éªŒã€‚

---

## ğŸ“Š è¯æ˜: Before & After

### âŒ Before (è¾“å…¥çš„ä»£ç  - Node.js Express)

```javascript
app.post("/api/v1/users", (req, res) => {
  const { username, email, age } = req.body;
  if (!email || !username) {
    return res.status(400).send({ error: "Missing required fields" });
  }
  if (age && typeof age !== "number") {
    return res.status(400).send({ error: "Invalid age" });
  }

  // æ¨¡æ‹Ÿä¿å­˜é€»è¾‘...
  res.status(201).send({
    id: 1024,
    username,
    email,
    age,
    createdAt: new Date().toISOString(),
  });
});
```

### âœ… After (AI ç”Ÿæˆç»“æœ - Markdown æ ¼å¼)

### **POST /api/v1/users**

åˆ›å»ºæ–°ç”¨æˆ·ã€‚

**Request Body**

| å­—æ®µå     | ç±»å‹    | å¿…å¡« | è¯´æ˜                        |
| :--------- | :------ | :--: | :-------------------------- |
| `username` | String  |  âœ…  | ç”¨æˆ·æ˜µç§°                    |
| `email`    | String  |  âœ…  | ç”¨æˆ·ç”µå­é‚®ç®±åœ°å€ (å”¯ä¸€æ ‡è¯†) |
| `age`      | Integer |  âŒ  | ç”¨æˆ·å¹´é¾„                    |

**Responses**

**201 Created** (æ³¨å†ŒæˆåŠŸ)

```json
{
  "id": 1024,
  "username": "jay_dev",
  "email": "jay.dev@example.com",
  "age": 28,
  "createdAt": "2026-02-04T12:00:00.000Z"
}
```

**400 Bad Request** (å‚æ•°æ ¡éªŒå¤±è´¥)

```json
{
  "error": "Missing required fields"
}
```

---

## ğŸ¯ ç»“è®º

ä¼˜ç§€çš„æ–‡æ¡£ç»ä¸åº”è¯¥æ˜¯å¼€å‘è€…çš„è´Ÿæ‹…ï¼Œè€Œæ˜¯å‰åç«¯åä½œçš„æ¶¦æ»‘å‰‚ã€‚
æŠŠè¿™ç§æœºæ¢°å¼çš„æå–ä¸ç¿»è¯‘å·¥ä½œäº¤ç»™ AI å§ã€‚è…¾å‡ºç²¾åŠ›ï¼Œå»æ€è€ƒé‚£äº›çœŸæ­£éœ€è¦äººç±»æ™ºæ…§çš„ç³»ç»Ÿæ¶æ„è®¾è®¡ã€‚

ç°åœ¨ï¼Œå»æ‹¯æ•‘ä½ é‚£äº›æ²¡æœ‰æ–‡æ¡£çš„æ—§é¡¹ç›®å§ï¼ğŸ·
