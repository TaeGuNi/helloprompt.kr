#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” [Pre-commit] Code Quality Check..."

# 1. Format & Lint Staged Files
npx lint-staged

# 2. Run Type Check & Lint (All Files)
echo "ğŸ›¡ï¸  Running Type Check..."
pnpm lint

# 3. Run Unit Tests
echo "ğŸ§ª Running Unit Tests..."
pnpm test

# 4. Run Build Check (Dry Run)
echo "ğŸ—ï¸  Running Build Check..."
pnpm build

# 5. Update Management Docs
echo "ğŸ“ Updating Management Docs..."
pnpm docs:update
git add docs/MANAGEMENT.md

echo "âœ… All checks passed! Committing..."