---
layout: /src/layouts/Layout.astro
title: "我的代码是垃圾？！整洁代码重构教练"
author: "Zzabbis"
date: "2026-02-07T09:10:33.120Z"
updatedDate: "2026-02-07T09:10:33.120Z"
category: "编码/IT"
description: "这是一个将仅能运行的凌乱代码升级为‘易读、易维护’的整洁代码的提示词。"
tags: ["重构", "整洁代码", "开发者", "代码审查"]
---

# 📝 我的代码是垃圾？！整洁代码重构教练

- **🎯 推荐受众:** 任何人
- **⏱️ 所需时间:** 5分钟
- **🤖 推荐模型:** 所有 AI 模型

- **📊 难度:** ⭐⭐☆☆☆
- **⚡️ 有效性:** ⭐⭐⭐⭐⭐
- **🛠️ 实用性:** ⭐⭐⭐⭐☆

_"说好以后再改，结果一年过去了。现在根本不敢碰它。"_

意大利面条式代码（纠缠不清的代码）是开发者的敌人。如果可读性差，不仅难以发现 Bug，添加功能也很困难。这个提示词将让罗伯特·C·马丁（《整洁代码》作者）附身，将你的代码洗净擦亮，使其焕然一新。

---

## ⚡️ 3句话总结 (TL;DR)

1. 消除重复代码并分离函数 (Extract Method)
2. 改进含义不明的变量/函数名 (Naming Convention)
3. 性能优化及应用最新语法 (Modern Syntax)

---

## 🚀 解决方案："整洁代码洗衣店"

### 🥉 Basic Version (基础版)

当只需要快速得到结果时使用。

> **角色:** 你是 `[整洁代码布道者兼首席架构师]`。
> **请求:** 请提供一个将仅能运行的凌乱代码升级为‘易读、易维护’的整洁代码的提示词。

<br>

### 🥇 Pro Version (专家版)

当需要细节质量时使用。

请复制以下 **PROMPT** 内容使用。

> **角色 (Role):** 你是 `[整洁代码布道者兼首席架构师]`。
>
> **情况 (Context):** 我的代码虽然能运行，但很凌乱且难以阅读 (Dirty Code)。请重构它以便于维护。
>
> **请求 (Task):**
>
> 1. **[命名品味]**: 将变量名和函数名改为直观且有意义的名称。(例如: `a` -> `userAge`)
> 2. **[结构改进]**: 将过长的函数按角色拆分，并将重复的逻辑合并。
> 3. **[Modernize]**: 如果可能，请应用最新的语言语法 (ES6+, Python 3.10+ 等)。
> 4. **[Before & After]**: 比较哪里发生了变化以及如何变化的，并解释为什么这样修改。
>
> **约束事项 (Constraints):**
>
> - 代码的行为（功能）绝对不能改变。
> - 只在必要的地方添加注释 (Comment)。(如果代码本身能解释清楚，则删除注释)
>
> **目标代码:**

> [请在此处粘贴肮脏(?)的代码]

---

## 🧬 提示词剖析 (Why it works?)

该提示词通过结合明确的角色设定和具体的指示事项 (Task)，旨在让 AI 准确把握意图。引导分步思考 (Chain of Thought)，从而获得符合逻辑的回答。

---

## 📊 证明: Before & After

简单的指令与优化后的提示词之间的差异是显而易见的。使用提供的提示词时，可以获得更具体、更结构化的回答，并节省重新提示 (Re-prompting) 的时间。

### ❌ Before (输入)

```python
def calc(x, y):
    if x > 19:
        print("성인")
        p = y * 0.9
        return p
    else:
        print("학생")
        return y
```

(函数名 `calc` 不知道在计算什么，`p` 也含义不明)

### ✅ After (提示词结果)

```python
def calculate_discounted_price(age, price):
    ADULT_AGE_THRESHOLD = 20
    DISCOUNT_RATE = 0.9

    if age >= ADULT_AGE_THRESHOLD:
        print("성인입니다.")
        return price * DISCOUNT_RATE

    print("학생입니다.")
    return price
```

**[改进点]**

1. **函数名变更**: `calc` -> `calculate_discounted_price` (明确了是计算折扣价格)
2. **移除魔术数字**: 将 `19`, `0.9` 等数字声明为常量，赋予意义。
3. **移除不必要的 else**: 使用 Early Return 模式减少缩进深度。

---

## 💡 作者评论 (Insight)

该提示词重点在于可以在实际工作中立即使用的实用性。
如果结果不满意，请尝试更具体地设置输入变量或情况 (Context)。

---

## 🙋 常见问题 (FAQ)

**Q. 结果不满意。**
A. 请添加具体的示例，或更详细地描述情况 (Context)。

**Q. 其他语言也可以吗？**
A. 是的，将提示词的指示事项翻译成相应的语言即可。

---

## 🎯 结论

好的代码就像好的随笔一样读起来朗朗上口。为了未来的自己（以及同事），请清理代码。

现在准时下班去洗个澡吧。不是洗代码，是洗澡。 🍷