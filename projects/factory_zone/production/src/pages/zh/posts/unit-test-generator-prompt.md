---
layout: /src/layouts/Layout.astro
title: "编写测试代码，5 分钟搞定的提示词"
author: "Zzabbis"
date: "2026-02-04"
updatedDate: "2026-02-04"
category: "编码/开发"
description: "把枯燥麻烦的单元测试 (Unit Test) 编写工作交给 AI 吧。挑战 100% 覆盖率！"
tags: ["测试代码", "TDD", "Jest", "PyTest", "QA"]
---

# 📝 编写测试代码，5 分钟搞定的提示词

**🎯 推荐对象:** 所有人
**⏱️ 所需时间:** 5 分钟
**🤖 推荐模型:** 所有 AI 模型

|  难度   |   有效性   |  实用性   |
| :-----: | :--------: | :-------: |
| ⭐⭐☆☆☆ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐☆ |

_“写代码都忙不过来，什么时候能写完测试代码？”_

虽然大家都知道测试代码的重要性，但真要写起来，往往比主要逻辑花费的时间还多。
还要考虑边缘情况 (Edge Case)，还要做模拟 (Mocking)... 头疼吧？
现在只要粘贴业务逻辑就行了。细致的测试代码由 AI 来编写。

---

## ⚡️ 3 行总结 (TL;DR)

1. 不仅覆盖正常运行 (Happy Path)，还覆盖异常情况
2. 完美支持广泛使用的测试框架语法
3. 自动生成 Mock 数据

---

## 🚀 解决方案：“单元测试生成器”

### 🥉 Basic Version (基础版)

当你只需要快速结果时使用。

> **角色:** 你是细致且完美主义的 QA 工程师兼测试自动化专家。
> **请求:** 把枯燥麻烦的单元测试 (Unit Test) 编写工作交给 AI 吧。请挑战 100% 覆盖率！

<br>

### 🥇 Pro Version (专家版)

当你需要详细质量时使用。

请复制以下 **PROMPT** 内容使用。

> **角色 (Role):** 你是细致且完美主义的 QA 工程师兼测试自动化专家。
>
> **情况 (Context):** 我有由 `[使用语言/框架]` 编写的代码。为了提高这段代码的可靠性，需要单元测试 (Unit Test)。
>
> **任务 (Task):**
>
> 1. 分析提供的代码，先编写测试用例列表。(包括成功案例、失败案例、边界值分析)
> 2. 使用 `[测试库名称 (例: Jest, PyTest, JUnit)]` 编写可执行的测试代码。
> 3. 如果有外部依赖，请进行 Mocking 处理。
> 4. 为每个测试用例添加注释，说明验证了什么。
>
> **代码:**

> [请在此处粘贴要测试的代码]

> **约束事项 (Constraints):**
>
> - 包含多种场景，以便测试覆盖率尽可能高。
> - 提供可立即复制并执行形式的代码。
> - 测试说明 (Description) 请用中文编写。

---

## 🧬 提示词解剖 (Why it works?)

---

## 📊 证明: Before & After

### ❌ Before (输入代码)

```javascript
function divide(a, b) {
  if (b === 0) throw new Error("不能除以 0。");
  return a / b;
}
```

### ✅ After (结果)

```javascript
describe("divide 函数测试", () => {
  // 1. 正常运行测试
  test("10 除以 2 应该是 5", () => {
    expect(divide(10, 2)).toBe(5);
  });

  // 2. 异常处理测试
  test("除以 0 应该发生错误", () => {
    expect(() => divide(10, 0)).toThrow("不能除以 0。");
  });

  // 3. 边界值/特殊值测试
  test("除以负数应该是负数", () => {
    expect(divide(-10, 2)).toBe(-5);
  });
});
```

---

## 🎯 结论

Bug如果在部署后才发现，修复成本会飙升 100 倍。
用这个提示词在开发阶段消灭 Bug，自信地点击‘Merge’按钮吧！🍷
