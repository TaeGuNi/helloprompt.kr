---
layout: /src/layouts/Layout.astro
title: "私のコードがゴミだなんて！クリーンコードリファクタリングコーチ"
author: "Zzabbis"
date: "2026-02-04"
updatedDate: "2026-02-04"
category: "コーディング/IT"
description: "回るだけの汚いコードを「読みやすく、メンテナンスしやすい」きれいなコードにアップグレードしてくれるプロンプトです。"
tags: ["リファクタリング", "クリーンコード", "開発者", "コードレビュー"]
---

# 📝 私のコードがゴミだなんて！クリーンコードリファクタリングコーチ

**🎯 推奨対象:** 誰でも
**⏱️ 所要時間:** 5分
**🤖 推奨モデル:** すべてのAIモデル

| 難易度  |    効果    |  活用度   |
| :-----: | :--------: | :-------: |
| ⭐⭐☆☆☆ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐☆ |

_「後で直そうとして1年経ちました。もう触るのが怖いです。」_

スパゲッティコード（絡まったコード）は開発者の敵です。可読性が落ちればバグを探すのも大変で機能を追加するのも難しいです。このプロンプトはロバート・C・マーチン（クリーンコード著者）が憑依して、あなたのコードを洗って拭いてピカピカにしてくれます。

---

## ⚡️ 3行要約 (TL;DR) {#tl-dr}

1. 重複コード除去および関数分離(Extract Method)
2. 意味不明確な変数/関数名改善 (Naming Convention)
3. 性能最適化および最新文法(Modern Syntax)適用

---

## 🚀 解決策：「クリーンコードクリーニング店」

### 🥉 Basic Version (基本形)

素早く結果だけが必要な場合に使用してください。

> **役割:** あなたは`[クリーンコード伝道師であり首席アーキテクト]`だ。
> **リクエスト:** 回るだけの汚いコードを「読みやすく、メンテナンスしやすい」きれいなコードにアップグレードしてくれるプロンプトを作って。

<br>

### 🥇 Pro Version (専門家形)

詳細なクオリティが必要な場合に使用してください。

以下の**PROMPT**内容をコピーして使用してください。

> **役割:** あなたは`[クリーンコード伝道師であり首席アーキテクト]`だ。
>
> **状況:** 私のコードは機能はするが、汚くて読みにくい(Dirty Code)。メンテナンスが容易なようにリファクタリングして。
>
> **タスク:**
>
> 1. **[ネーミングセンス]**: 変数名と関数名を直感的で意味があるように変えて。（例：`a` -> `userAge`）
> 2. **[構造改善]**: 長すぎる関数は役割別に分けて、重複するロジックは一つに合わせて。
> 3. **[Modernize]**: 可能なら最新言語文法(ES6+, Python 3.10+など)を適用して。
> 4. **[Before & After]**: どこがどう変わったか比較して、なぜそう変えたか理由を説明して。
>
> **制約事項:**
>
> - コードの動作（機能）は絶対変わってはダメ。
> - 注釈(Comment)は必ず必要な所だけに付けて。（コードで説明できれば注釈削除）
>
> **対象コード:**

> [ここに汚い(?)コードを貼り付けてください]

---

## 🧬 プロンプト解剖 (Why it works?) {#why-it-works}

---

## 📊 証明: Before & After

### ❌ Before (入力)

```python
def calc(x, y):
    if x > 19:
        print("Adult")
        p = y * 0.9
        return p
    else:
        print("Student")
        return y
```

(関数名 `calc`は何を計算するのか分からず、`p`も意味不明)

### ✅ After (プロンプト結果)

```python
def calculate_discounted_price(age, price):
    ADULT_AGE_THRESHOLD = 20
    DISCOUNT_RATE = 0.9

    if age >= ADULT_AGE_THRESHOLD:
        print("You are an adult.")
        return price * DISCOUNT_RATE

    print("You are a student.")
    return price
```

**[改善ポイント]**

1. **関数名変更**: `calc` -> `calculate_discounted_price` (割引価格計算であることが明確になる)
2. **マジックナンバー除去**: `19`、`0.9`のような数字を定数で宣言して意味付与。
3. **不要なelse除去**: Early Returnパターンを使用してインデント深さを減らす。

---

## 🎯 結論

よく組まれたコードはよく書かれた随筆のようにすらすら読めます。未来の私（そして同僚）のためにコードを掃除してください。

もう定時退社してシャワー浴びてください。コードじゃなくて体ですよ。 🍷
