---
layout: /src/layouts/Layout.astro
title: "面倒なAPI文書化、コードさえ渡せばSwaggerがあっという間に"
author: "Zzabbis"
date: "2026-02-04"
updatedDate: "2026-02-04"
category: "コーディング/開発"
description: "APIのコードを貼り付けるだけで、OpenAPI(Swagger)仕様書やMarkdownドキュメントへ自動変換してくれる実践的なプロンプトです。"
tags: ["API", "文書化", "Swagger", "OpenAPI", "バックエンド"]
---

# 📝 面倒なAPI文書化、コードさえ渡せばSwaggerがあっという間に

- **🎯 おすすめの対象:** バックエンド開発者、フロントエンド開発者、QAエンジニア
- **⏱️ 所要時間:** 30分 → 1分に短縮
- **🤖 おすすめのモデル:** Claude 3.5 Sonnet, GPT-4o, Gemini 1.5 Pro (コーディングに強いモデル推奨)

- ⭐ **難易度:** ⭐⭐☆☆☆
- ⚡️ **効果性:** ⭐⭐⭐⭐⭐
- 🚀 **活用度:** ⭐⭐⭐⭐⭐

> _「APIの開発は終わったのに、ドキュメント作成のせいで今日も帰れない…」_

API開発よりもドキュメント作成の方が苦痛だと感じるのは、あなただけではありません。
パラメータのデータ型、必須項目の有無、レスポンスのユースケースを一つ一つ手作業で記述していると、現実逃避したくなるものです。
これからは、コントローラーのコードをそのままコピー＆ペーストするだけにしてください。AIがフロントエンド開発者も大満足の、美しく正確なSwagger（OpenAPI）仕様書に変換してくれます。

---

## ⚡️ 3行要約 (TL;DR)

1. **コードベースの正確な抽出:** コードからパラメータとレスポンスの仕様を漏れなく自動抽出します。
2. **フォーマットの自動生成:** OpenAPI(Swagger)のYAML/JSON、またはMarkdown形式に一瞬で変換します。
3. **リッチなモックデータ:** 誰が見ても分かりやすい説明と、フロントエンドですぐに使える現実的なレスポンス例を生成します。

---

## 🚀 解決策：「APIドキュメント自動生成プロンプト」

### 🥉 Basic Version (基本形)

とにかく手軽に、素早く結果だけが欲しい場合に使用してください。

> **役割:** あなたは几帳面なテクニカルライター兼シニアバックエンド開発者です。
> **タスク:** 以下のAPIコードを読み取り、フロントエンド開発者向けのMarkdown形式のAPIドキュメントを作成してください。

<br>

### 🥇 Pro Version (専門家形)

実務レベルのディテールや、そのままSwaggerに組み込めるクオリティが必要な場合に使用してください。

> **役割 (Role):** あなたは几帳面なテクニカルライターであり、経験豊富なシニアバックエンド開発者です。
>
> **状況 (Context):**
>
> - 背景: 新しいAPIエンドポイントの開発が完了しましたが、フロントエンドチームに共有するためのドキュメントがまだありません。
> - 目標: 開発したAPIコードを基に、正確で分かりやすいAPIドキュメントを生成すること。
>
> **タスク (Task):**
>
> 以下のコードを分析し、**[希望するフォーマット: OpenAPI 3.0 YAML / Markdown]** 形式でドキュメントを作成してください。
> 必ず以下の内容を含める必要があります：
>
> 1. **Endpoint & Method:** URLパスとHTTPメソッドを明記する。
> 2. **Summary:** このAPIが何をするものか、簡潔な要約を記載する。
> 3. **Request Parameters:** Body、Query、Pathパラメータ（データ型、必須の有無、詳細な説明を含む）。
> 4. **Response:** 成功時(200/201)および失敗時(400, 401, 404, 500など)のレスポンス構造と、現実的なJSONの例示。
>
> **コード (Code):**
>
> `[ここにコントローラーやルーターのコードを貼り付けてください]`
>
> **制約事項 (Constraints):**
>
> - データ型（String、Integer、Booleanなど）を明確に記述すること。
> - レスポンスの例（Example Value）には、`"string"`や`0`のようなダミーではなく、実際のユースケースに基づいた現実的なデータを使用すること。
> - コードから読み取れないビジネスロジックや仕様を勝手に推測して作り出さないこと（分からない場合はプレースホルダーを残す）。

---

## 💡 筆者のインサイト (Insight)

このプロンプトの真の価値は、「フロントエンド開発者とのコミュニケーションコストを劇的に下げる」点にあります。

実務において、ドキュメントの不備は「このパラメータって必須ですか？」「エラーの時のレスポンス形式はどうなりますか？」といった無駄なピンポン（やり取り）を生み出します。特に、`Example Value`（レスポンス例）をAIに現実的なデータで埋めさせることで、フロントエンド開発者はバックエンドの実装を待たずにモックサーバーを立ててUI開発を進めることができます。

また、複雑なNestJSやSpring Bootのコントローラーだけでなく、バリデーションスキーマ（ZodやJoiなど）を一緒に貼り付けると、さらに正確で堅牢なドキュメントが生成されるのでぜひ試してみてください。

---

## 🙋 よくある質問 (FAQ)

- **Q: どのプログラミング言語やフレームワークでも使えますか？**
  - A: はい、使えます。Node.js (Express, NestJS)、Python (FastAPI, Django)、Java (Spring Boot) など、言語やフレームワークを問わず、コードの意図をAIが汲み取ってドキュメント化してくれます。

- **Q: 生成されたYAMLをそのままSwagger UIで使ってもエラーになりませんか？**
  - A: ほぼそのまま使用可能ですが、AIは全体の構造（`components/schemas`など）を省略してエンドポイント部分だけを生成することがあります。既存の`swagger.yaml`にマージする際は、インデントや参照（`$ref`）の構造を軽く目視確認することをおすすめします。

- **Q: データベースのスキーマ（SQL）を渡してもドキュメント化できますか？**
  - A: データベースのスキーマだけではエンドポイントのURLやHTTPメソッドが分からないため、不完全なドキュメントになります。必ずコントローラー（またはルーティング）のコードと一緒に渡すようにしてください。

---

## 🧬 プロンプト解剖 (Why it works?)

1. **Roleの付与:** 「テクニカルライター」と「シニアバックエンド開発者」という2つのペルソナを与えることで、技術的な正確さと読みやすさの両立を実現しています。
2. **現実的なデータの要求:** 「現実的なユースケースに基づいたデータを使用すること」という制約を入れることで、実用性の低いダミーデータが生成されるのを防いでいます。
3. **幻覚（Hallucination）の防止:** 「コードから読み取れない仕様を勝手に作り出さない」というルールにより、間違ったドキュメントによる開発の混乱を未然に防ぎます。

---

## 📊 証明: Before & After

### ❌ Before (入力したコード - Node.js Express)

```javascript
app.post("/users", (req, res) => {
  const { username, email } = req.body;
  if (!email) return res.status(400).send({ error: "Email is required" });
  // DB 保存ロジック...
  res.status(201).send({ id: 1042, username, email, createdAt: new Date() });
});
```

### ✅ After (結果 - Markdown 形式を選択した場合)

### **POST /users**

新規ユーザー会員登録API

**Request Body**

- `username` (String, Optional): ユーザーの表示名
- `email` (String, **Required**): ログインおよび連絡用のメールアドレス（ユニーク）

**Responses**

**201 Created - 登録成功**

```json
{
  "id": 1042,
  "username": "jay_dev",
  "email": "jay.dev@example.com",
  "createdAt": "2026-02-04T12:00:00.000Z"
}
```

**400 Bad Request - バリデーションエラー**

```json
{
  "error": "Email is required"
}
```

---

## 🎯 結論

ドキュメント作成は、開発の「終わり」ではなく、チームとのスムーズな協業の「始まり」です。
しかし、その始まりのためにあなたの貴重なエネルギーを使い果たす必要はありません。面倒な作業はAIに任せて、あなたはビジネスロジックの設計やパフォーマンスチューニングといった、より価値のある仕事に集中してください！ 🍷
