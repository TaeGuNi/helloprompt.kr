---
layout: /src/layouts/Layout.astro
title: "¬°Mi c√≥digo es basura! Entrenador de refactorizaci√≥n de c√≥digo limpio"
author: "Zzabbis"
date: "2026-02-07T09:10:33.120Z"
updatedDate: "2026-02-07T09:10:33.120Z"
category: "Programaci√≥n/TI"
description: "Un prompt para transformar c√≥digo espagueti en c√≥digo limpio, legible y f√°cil de mantener."
tags:
  ["refactorizaci√≥n", "c√≥digo limpio", "desarrollador", "revisi√≥n de c√≥digo"]
---

# üìù ¬°Mi c√≥digo es basura! Entrenador de refactorizaci√≥n de c√≥digo limpio

- **üéØ Recomendado para:** Desarrolladores de todos los niveles, l√≠deres t√©cnicos, revisores de c√≥digo
- **‚è±Ô∏è Tiempo requerido:** 5 minutos ‚Üí 1 minuto
- **ü§ñ Modelo recomendado:** Todos los modelos de IA conversacional (ChatGPT, Claude, Gemini, etc.)

- ‚≠ê **Dificultad:** ‚≠ê‚≠ê‚òÜ‚òÜ‚òÜ
- ‚ö°Ô∏è **Eficacia:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
- üöÄ **Utilidad:** ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ

> _"Dije que lo arreglar√≠a m√°s tarde y ya pas√≥ un a√±o. Ahora, cada vez que abro ese archivo, me da p√°nico tocarlo."_

El c√≥digo espagueti es el mayor enemigo de la productividad de cualquier desarrollador. Cuando la legibilidad es pobre, encontrar un simple error o a√±adir una nueva funcionalidad se convierte en una pesadilla. Este prompt invocar√° el esp√≠ritu de Robert C. Martin (autor de _Clean Code_) directamente en tu IA, lavando y puliendo tu c√≥digo hasta dejarlo impecable, estructurado y f√°cil de mantener.

---

## ‚ö°Ô∏è Resumen en 3 l√≠neas (TL;DR)

1. **Eliminaci√≥n de duplicados:** Extrae m√©todos y separa responsabilidades de forma autom√°tica.
2. **Convenciones de nomenclatura:** Transforma nombres de variables y funciones cr√≠pticos en identificadores claros y sem√°nticos.
3. **Sintaxis moderna:** Optimiza el rendimiento aplicando las caracter√≠sticas m√°s recientes y eficientes de tu lenguaje de programaci√≥n.

---

## üöÄ Soluci√≥n: "Lavander√≠a de C√≥digo Limpio"

### ü•â Versi√≥n B√°sica (Basic Version)

√ösalo cuando necesites una mejora r√°pida sin demasiadas explicaciones.

> **Rol:** Eres un experto arquitecto de software y evangelista del Clean Code.
> **Solicitud:** Refactoriza el siguiente c√≥digo para que sea limpio, legible y f√°cil de mantener, aplicando las mejores pr√°cticas de la industria de la programaci√≥n.

<br>

### ü•á Versi√≥n Pro (Pro Version)

√ösalo cuando necesites una reestructuraci√≥n profunda con justificaciones arquitect√≥nicas.

> **Rol (Role):** Eres un Senior Staff Engineer y un estricto evangelista del Clean Code.
>
> **Contexto (Context):**
>
> - Fondo: Mi c√≥digo funciona correctamente, pero es c√≥digo espagueti (Dirty Code) y su mantenimiento es un dolor de cabeza.
> - Objetivo: Refactorizarlo hacia un est√°ndar profesional, haci√©ndolo altamente legible, modular y f√°cil de mantener.
>
> **Tarea (Task):**
>
> 1. **[Nomenclatura Sem√°ntica]:** Cambia los nombres de variables y funciones para que revelen su intenci√≥n de forma clara e inequ√≠voca (Ej: `a` -> `userAge`).
> 2. **[Estructura y Modularidad]:** Divide las funciones que hacen demasiadas cosas (SRP) y consolida la l√≥gica duplicada extrayendo m√©todos (DRY).
> 3. **[Modernizaci√≥n]:** Aplica la sintaxis m√°s moderna e idiom√°tica del lenguaje (ej. ES6+ en JavaScript, Python 3.10+, etc.) para mejorar el rendimiento y la seguridad.
> 4. **[An√°lisis Before & After]:** Proporciona un breve desglose explicando exactamente qu√© cambiaste y, lo m√°s importante, _por qu√©_ lo cambiaste bas√°ndote en principios de dise√±o de software.
>
> **Restricciones (Constraints):**
>
> - La l√≥gica de negocio y el comportamiento del c√≥digo **NO** deben cambiar bajo ninguna circunstancia.
> - A√±ade comentarios **solo** cuando sea absolutamente necesario para explicar el "por qu√©" de una decisi√≥n compleja. Si el c√≥digo se explica por s√≠ mismo, omite los comentarios y deja que las variables hablen.
> - Presenta el c√≥digo refactorizado en un bloque de c√≥digo markdown limpio.
>
> **C√≥digo Objetivo:**
>
> ```[Tu Lenguaje]
> [Pega tu c√≥digo sucio aqu√≠]
> ```

---

## üí° Comentario del Autor (Insight)

La refactorizaci√≥n manual puede consumir horas, especialmente cuando te enfrentas a c√≥digo heredado (legacy code) escrito por otra persona (o por ti mismo hace 6 meses). Este prompt es una herramienta indispensable en mi flujo de trabajo diario. No solo reescribe el c√≥digo, sino que el paso de **[An√°lisis Before & After]** act√∫a como un mentor personal. He notado que los desarrolladores junior que usan este prompt mejoran dr√°sticamente sus propias habilidades de escritura, ya que aprenden patrones de dise√±o y convenciones idiom√°ticas en tiempo real.

_Consejo:_ Si el c√≥digo a refactorizar es demasiado largo (m√°s de 300 l√≠neas), div√≠delo en fragmentos l√≥gicos antes de pas√°rselo a la IA para evitar que alucine u omita detalles importantes.

---

## üôã Preguntas Frecuentes (FAQ)

- **Q: ¬øLa IA podr√≠a romper la l√≥gica de mi c√≥digo al refactorizarlo?**
  - A: Aunque la restricci√≥n proh√≠be cambiar el comportamiento, los LLMs pueden cometer errores en l√≥gicas muy complejas. Siempre es obligatorio tener pruebas unitarias (Unit Tests) que respalden el c√≥digo antes de reemplazarlo a ciegas en el entorno de producci√≥n.

- **Q: ¬øFunciona igual de bien para lenguajes antiguos o menos comunes?**
  - A: S√≠, pero la calidad del "Clean Code" generado brillar√° m√°s en lenguajes populares (JavaScript, Python, Java, C#, Go) debido a la inmensa cantidad de datos de entrenamiento disponibles. Para lenguajes de nicho, te recomiendo especificar el est√°ndar de estilo exacto en el prompt (ej. "Usa la gu√≠a de estilo idiom√°tica de Rust").

- **Q: ¬øQu√© pasa si la IA elimina comentarios importantes que ya ten√≠a?**
  - A: Si tienes comentarios de negocio cr√≠ticos, a√±ade una regla extra en la secci√≥n de restricciones: "- Conserva todos los comentarios existentes que expliquen reglas de negocio espec√≠ficas."

---

## üß¨ Anatom√≠a del Prompt (Why it works?)

1. **Asignaci√≥n de Rol Senior:** Al definir a la IA como un _Senior Staff Engineer_, forzamos al modelo a adoptar un est√°ndar de calidad mucho m√°s alto, evitando refactorizaciones perezosas.
2. **Enfoque Educativo:** Pedir un an√°lisis estructurado del "Antes y Despu√©s" previene que la IA simplemente escupa c√≥digo, oblig√°ndola a razonar sus pasos (Chain-of-Thought) y garantizando una mayor precisi√≥n en el resultado final.
3. **Restricci√≥n de Comentarios (Anti-ruido):** Las IAs tienden a sobre-comentar c√≥digo trivial (ej. `// suma a y b`). La regla estricta de "c√≥digo autoexplicativo" mantiene el resultado limpio y verdaderamente profesional.

---

## üìä Prueba: Antes y Despu√©s (Before & After)

### ‚ùå Antes (Entrada)

```python
def calc(x, y):
    if x > 19:
        print("Adulto")
        p = y * 0.9
        return p
    else:
        print("Estudiante")
        return y
```

### ‚úÖ Despu√©s (Resultado)

```python
def calculate_discounted_price(age: int, price: float) -> float:
    ADULT_AGE_THRESHOLD = 20
    DISCOUNT_RATE = 0.9

    if age >= ADULT_AGE_THRESHOLD:
        print("Adulto")
        return price * DISCOUNT_RATE

    print("Estudiante")
    return price
```

**[Desglose de la mejora]**

- **Nomenclatura Sem√°ntica:** `calc` se convirti√≥ en `calculate_discounted_price`, revelando exactamente la intenci√≥n. `x` e `y` pasaron a ser `age` y `price`.
- **Eliminaci√≥n de N√∫meros M√°gicos:** `19` y `0.9` ahora son constantes con nombres descriptivos (`ADULT_AGE_THRESHOLD`, `DISCOUNT_RATE`).
- **Retorno Anticipado (Early Return):** Se elimin√≥ el bloque `else` innecesario, reduciendo la anidaci√≥n l√≥gica y mejorando la legibilidad.
- **Tipado Est√°tico (Type Hints):** Se a√±adieron anotaciones de tipo modernas en Python para hacer el c√≥digo m√°s robusto, predecible y f√°cil de documentar.

---

## üéØ Conclusi√≥n

Un c√≥digo bien escrito se lee con la misma fluidez que una buena novela. Refactorizar no es un lujo, es una necesidad para la salud a largo plazo de cualquier proyecto. Limpia tu c√≥digo hoy como un favor a tu yo del futuro (y a la salud mental de tus colegas).

¬°Refactoriza, haz tu _commit_, y sal del trabajo a tiempo! üç∑
