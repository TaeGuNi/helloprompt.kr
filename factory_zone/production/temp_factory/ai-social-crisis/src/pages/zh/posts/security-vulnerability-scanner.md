---
layout: /src/layouts/Layout.astro
title: "我的代码可能会被黑？AI 警长的漏洞检查"
author: "Zzabbis"
date: "2026-02-04"
updatedDate: "2026-02-04"
category: "编码/开发"
description: "找出 SQL 注入、XSS 等隐藏在我代码中的安全漏洞，并建议补丁代码的提示词。"
tags: ["安全", "黑客防御", "漏洞检查", "安全编码", "OWASP"]
---

# 📝 我的代码可能会被黑？AI 警长的漏洞检查

**🎯 推荐对象:** 所有人
**⏱️ 所需时间:** 5 分钟
**🤖 推荐模型:** 所有 AI 模型

|  难度   |   有效性   |  实用性   |
| :-----: | :--------: | :-------: |
| ⭐⭐☆☆☆ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐☆ |

_“难道会有人黑我的玩具项目？”_

是的，会有。自动化机器人不分昼夜地在互联网上抓取，寻找脆弱的服务器。
一次 SQL 注入就能掏空 DB，XSS 攻击可能导致用户 Cookie 被劫持。
部署之前给 AI 警长看代码，接受‘安全编码 (Secure Coding)’处方吧。

---

## ⚡️ 3 行总结 (TL;DR)

1. 识别代码内潜在的安全漏洞 (SQL Injection, XSS 等)
2. OWASP Top 10 标准危险度分析
3. 建议修改为安全代码

---

## 🚀 解决方案：“安全漏洞扫描器”

### 🥉 Basic Version (基础版)

当你只需要快速结果时使用。

> **角色:** 你是白帽黑客兼网络安全专家。
> **请求:** 请制作找出 SQL 注入、XSS 等隐藏在我代码中的安全漏洞，并建议补丁代码的提示词。

<br>

### 🥇 Pro Version (专家版)

当你需要详细质量时使用。

请复制以下 **PROMPT** 内容使用。

> **角色 (Role):** 你是白帽黑客兼网络安全专家。
>
> **情况 (Context):** 我想检查我编写的代码是否有安全上的危险部分。
>
> **任务 (Task):**
>
> 1. 分析下面的代码，找出所有**安全漏洞 (Vulnerability)**。
> 2. 请说明各漏洞可能暴露于什么攻击（例: SQL Injection, XSS）。
> 3. 请编写解决了漏洞的**安全代码 (Secure Code)**。
>
> **分析对象代码:**

> [请在此处粘贴可疑代码]

> **约束事项 (Constraints):**
>
> - 请优先审查 OWASP Top 10 漏洞标准。
> - 不要只说“危险”，请简单提及“如何攻击”的场景。

---

## 🧬 提示词解剖 (Why it works?)

---

## 📊 证明: Before & After

### ❌ Before (输入代码 - PHP)

```php
$username = $_POST['user'];
$query = "SELECT * FROM users WHERE name = '" . $username . "'";
$db->query($query);
```

### ✅ After (诊断及修改)

**🚨 发现的漏洞:** **SQL Injection**
如果攻击者在 `$username` 中输入像 `' OR '1'='1` 这样的值，查询就会变成 `SELECT * FROM users WHERE name = '' OR '1'='1'`，可以看到所有用户信息。

**🛡️ 修改后的代码 (使用 Prepared Statement):**

```php
$stmt = $db->prepare("SELECT * FROM users WHERE name = ?");
$stmt->bind_param("s", $_POST['user']);
$stmt->execute();
```

_说明: 使用 `prepare` 和 `bind_param` 将输入值作为纯数据而非查询的一部分处理，从源头上阻断了注入。_

---

## 🎯 结论

安全事故一旦爆发就无法收拾。
不要成为“亡羊补牢”俗语的主人公。修改一行代码就能阻止大惨案。🍷
