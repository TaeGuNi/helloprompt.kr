---
layout: /src/layouts/Layout.astro
title: "肮脏代码，1 秒重构为整洁代码"
author: "Zzabbis"
date: "2026-02-04"
updatedDate: "2026-02-04"
category: "编码/开发"
description: "将复杂的意大利面条代码转换为易读且易于维护的整洁代码的提示词。"
tags: ["重构", "整洁代码", "维护", "开发生产力"]
---

# 📝 肮脏代码，1 秒重构为整洁代码

> **🎯 推荐对象:** 所有人
> **⏱️ 所需时间:** 5 分钟
> **🤖 推荐模型:** 所有 AI 模型

|  难度   |   有效性   |  实用性   |
| :-----: | :--------: | :-------: |
| ⭐⭐☆☆☆ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐☆ |

_“连我自己都认不出我写的代码了... 怎么解开这团乱麻？”_

因为急着写，变量名一团糟，一个函数超过 100 行的经历，大家都有过吧？
如果有一位秘书能把给同事看都觉得丢人的代码，按照**‘整洁代码’的定式**进行重构，会怎么样？
只要这一个提示词，就能一次性搞定可读性、性能和维护性。

---

## ⚡️ 3 行总结 (TL;DR)

1. 直观地更改变量名/函数名
2. 消除重复代码及分离函数
3. 应用最新语法及性能优化

---

## 🚀 解决方案：“整洁代码重构器”

### 🥉 Basic Version (基础版)

当你只需要快速结果时使用。

> **角色:** 你是 20 年工龄的高级软件工程师兼‘整洁代码 (Clean Code)’专家。
> **请求:** 请将复杂的意大利面条代码转换为易读且易于维护的整洁代码。

<br>

### 🥇 Pro Version (专家版)

当你需要详细质量时使用。

请复制以下 **PROMPT** 内容使用。

> **角色 (Role):** 你是 20 年工龄的高级软件工程师兼‘整洁代码 (Clean Code)’专家。
>
> **情况 (Context):** 我编写的代码虽然功能正常，但可读性差且难以维护。变量名也不明确，有很多重复的逻辑。
>
> **任务 (Task):**
> 请按照以下标准重构下面提供的代码:
>
> 1. **命名:** 更改变量和函数名称，以便明确知道其意图。
> 2. **函数分离:** 将函数拆分得更小，使一个函数只做一件事 (SRP)。
> 3. **消除重复:** 将重复的逻辑提取为单独的函数或工具。
> 4. **注释:** 仅在需要解释代码‘为什么 (Why)’这样编写的部分添加注释。
> 5. **最新语法:** 应用该语言的最新现代语法。
>
> **代码:**
>
> ```
> [请在此处粘贴要重构的代码]
> ```
>
> **约束事项 (Constraints):**
>
> - 绝对不要更改现有代码的业务逻辑（行为）。
> - 请用列表总结重构前后的主要变更事项。
> - 请将输出分为代码块和说明块显示。

---

## 🧬 提示词解剖 (Why it works?)

---

## 📊 证明: Before & After

### ❌ Before (输入)

```javascript
function calc(d) {
  let t = 0;
  for (let i = 0; i < d.length; i++) {
    if (d[i].price > 100) {
      t += d[i].price * 0.9;
    } else {
      t += d[i].price;
    }
  }
  return t;
}
```

### ✅ After (结果)

```javascript
/**
 * 计算购物车总额。
 * 100 元以上商品适用 10% 折扣。
 */
function calculateTotalPrice(items) {
  const DISCOUNT_THRESHOLD = 100;
  const DISCOUNT_RATE = 0.9;

  return items.reduce((total, item) => {
    const finalPrice =
      item.price > DISCOUNT_THRESHOLD ? item.price * DISCOUNT_RATE : item.price;
    return total + finalPrice;
  }, 0);
}
```

_变更事项: `calc` -> `calculateTotalPrice`, `d` -> `items`, 魔法数字常量化, 使用 `reduce`。_

---

## 🎯 结论

别再推迟说“以后再改”了。
用这个提示词，3 秒就把有味道的代码变成芬芳的代码，然后下班吧！🍷
