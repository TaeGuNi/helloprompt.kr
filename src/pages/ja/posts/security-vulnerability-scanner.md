---
layout: /src/layouts/Layout.astro
title: "私のコードがハッキングされるかもしれない？AI保安官の脆弱性点検"
author: "Zzabbis"
date: "2026-02-04"
updatedDate: "2026-02-04"
category: "コーディング/開発"
description: "SQLインジェクション、XSSなど私のコードに隠れているセキュリティ脆弱性を見つけ出し、パッチコードを提案してくれるプロンプトです。"
tags:
  [
    "セキュリティ",
    "ハッキング防御",
    "脆弱性点検",
    "セキュアコーディング",
    "OWASP",
  ]
---

# 📝 私のコードがハッキングされるかもしれない？AI保安官の脆弱性点検

> **🎯 推奨対象:** 誰でも
> **⏱️ 所要時間:** 5分
> **🤖 推奨モデル:** すべてのAIモデル

| 難易度  |    効果    |  活用度   |
| :-----: | :--------: | :-------: |
| ⭐⭐☆☆☆ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐☆ |

_「まさか私のトイプロジェクトを誰がハッキングするんですか？」_

はい、します。自動化されたボットは休まずインターネットを掻き回し脆弱なサーバーを探します。
SQLインジェクション一発でDBが盗まれ、XSS攻撃でユーザーCookieが奪取される可能性があります。
配布する前にAI保安官にコードを見せて「セキュアコーディング(Secure Coding)」処方を受けてください。

---

## ⚡️ 3行要約 (TL;DR)

1. コード内の潜在的セキュリティ脆弱性(SQL Injection, XSSなど)識別
2. OWASP Top 10 基準危険度分析
3. 安全なコードへ修正提案

---

## 🚀 解決策：「セキュリティ脆弱性スキャナー」

### 🥉 Basic Version (基本形)

素早く結果だけが必要な場合に使用してください。

> **役割:** あなたはホワイトハッカーでありサイバーセキュリティ専門家です。
> **リクエスト:** SQLインジェクション、XSSなど私のコードに隠れているセキュリティ脆弱性を見つけ出し、パッチコードを提案してくれるプロンプトを作成してください。

<br>

### 🥇 Pro Version (専門家形)

詳細なクオリティが必要な場合に使用してください。

以下の**PROMPT**内容をコピーして使用してください。

> **役割:** あなたはホワイトハッカーでありサイバーセキュリティ専門家です。
>
> **状況:** 私が作成したコードにセキュリティ上危険な部分があるか点検したい。
>
> **タスク:**
>
> 1. 以下のコードを分析して**セキュリティ脆弱性(Vulnerability)**をすべて見つけ出して。
> 2. 各脆弱性がどんな攻撃（例: SQL Injection, XSS）に露出する可能性があるか説明して。
> 3. 脆弱性を解決した**安全なコード(Secure Code)**を作成して。
>
> **分析対象コード:**
>
> ```
> [ここに疑わしいコードを貼り付けてください]
> ```
>
> **制約事項:**
>
> - OWASP Top 10 脆弱性基準を優先的に検討して。
> - 単に「危険だ」ではなく「どうやって攻撃できるか」シナリオを簡単に言及して。

---

## 🧬 プロンプト解剖 (Why it works?)

---

## 📊 証明: Before & After

### ❌ Before (入力コード - PHP)

```php
$username = $_POST['user'];
$query = "SELECT * FROM users WHERE name = '" . $username . "'";
$db->query($query);
```

### ✅ After (診断および修正)

**🚨 発見された脆弱性:** **SQL Injection**
攻撃者が `$username` に `' OR '1'='1` のような値を入力すると、クエリが `SELECT * FROM users WHERE name = '' OR '1'='1'` になり、すべてのユーザー情報を見ることができます。

**🛡️ 修正されたコード (Prepared Statement 使用):**

```php
$stmt = $db->prepare("SELECT * FROM users WHERE name = ?");
$stmt->bind_param("s", $_POST['user']);
$stmt->execute();
```

_説明: 入力値をクエリの一部ではなく純粋なデータとして処理するように `prepare` と `bind_param` を使用してインジェクションを源泉遮断しました。_

---

## 🎯 結論

セキュリティ事故は起きてからでは収拾できません。
「牛を失って牛小屋を直す」ことわざの主人公にならないでください。コード一行直すことで大惨事を防ぐことができます。 🍷
