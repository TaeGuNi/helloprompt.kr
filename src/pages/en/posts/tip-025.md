---
layout: /src/layouts/Layout.astro
title: "Secrets to Tuning Sluggish SQL Queries in 3 Seconds"
author: "Zzabbis"
date: "2026-02-04"
updatedDate: "2026-02-04"
category: "Coding/Development"
description: "A prompt that analyzes complex and inefficient SQL queries to optimize performance and recommend indexes."
tags: ["SQL", "DB Tuning", "Query Optimization", "Database"]
lang: en
---

# üìù Secrets to Tuning Sluggish SQL Queries in 3 Seconds

> **üéØ Recommended for:** Everyone
> **‚è±Ô∏è Time required:** 5 minutes
> **ü§ñ Recommended model:** All AI models

| Difficulty | Effectiveness |  Utility  |
| :--------: | :-----------: | :-------: |
|  ‚≠ê‚≠ê‚òÜ‚òÜ‚òÜ   |  ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê   | ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ |

_"It takes 5 seconds just to query even if only a little data is accumulated..."_

Queries that were fast at first become turtles as data increases.
Did you feel lost even after looking at the Explain Plan because the text was black and the background was white?
If you show the query to AI, it will find inefficient parts and even give magical index recommendations.

---

## ‚ö°Ô∏è TL;DR

1. Improve inefficient Joins and subqueries
2. Recommend necessary Indexes
3. Rewrite with highly readable modern SQL syntax

---

## üöÄ Solution: "SQL Query Tuner"

### ü•â Basic Version

Use this when you need results quickly.

> **Role:** You are a senior DBA (Database Administrator) with 20 years of experience and a SQL tuning expert.
> **Request:** Provide a prompt that analyzes complex and inefficient SQL queries to optimize performance and recommend indexes.

<br>

### ü•á Pro Version

Use this when you need detailed quality.

Copy the **PROMPT** content below to use.

> **Role:** You are a senior DBA (Database Administrator) with 20 years of experience and a SQL tuning expert.
>
> **Context:** The SQL query used in my application is causing performance degradation as the data volume increases.
>
> **Task:**
> Analyze the SQL query provided below and perform the following tasks:
>
> 1. **Problem Diagnosis:** Point out the parts in the current query that can cause performance degradation (Full Table Scan, etc.).
> 2. **Query Optimization:** Rewrite it as a query that returns the same result but operates more efficiently.
> 3. **Index Recommendation:** Propose which columns should be indexed using `CREATE INDEX` syntax to maximize query performance.
>
> **DB in Use:** `[MySQL / PostgreSQL / Oracle / MS-SQL]`
>
> **Target Query:**
>
> ```sql
> [Paste slow query here]
> ```
>
> **Constraints:**
>
> - Never change the resulting dataset of the existing query.
> - Briefly explain the principles of why it became faster.

---

## üß¨ Why it works?

---

## üìä Proof: Before & After

### ‚ùå Before (Input Query)

```sql
SELECT * FROM users
WHERE id IN (SELECT user_id FROM orders WHERE price > 10000);
```

_Problem: The subquery can be executed for every row (Dependent Subquery)._

### ‚úÖ After (Result)

**Optimized Query (Using JOIN):**

```sql
SELECT DISTINCT u.*
FROM users u
INNER JOIN orders o ON u.id = o.user_id
WHERE o.price > 10000;
```

**Recommended Index:**

```sql
CREATE INDEX idx_orders_price_userid ON orders(price, user_id);
```

_Explanation: Optimized by changing the subquery to JOIN and created a composite index to join by `user_id` after filtering by `price`._

---

## üéØ Conclusion

They say "Tuning is an art," but now it's a 'science' that can get help from AI.
Don't suffer because of slow queries, get a free consultation from the AI DBA! üç∑
