# 2026-02-19

## helloprompt.kr Deployment Recovery

### 1. Incident: Site 404s after Migration

Following the migration of 637 posts to `src/content/posts`, individual post pages returned 404 errors despite the homepage working.

### 2. Root Cause Analysis & Fixes

- **Missing Router:** The dynamic route `src/pages/posts/[...slug].astro` was missing after cleanup.
  - **Fix:** Restored the router to correctly fetch from `getCollection('posts')`. Merged via **PR #260**.
- **Invalid Frontmatter:** Build failed with `InvalidContentEntryDataError` due to inconsistent `date` formats (e.g., `None`, ISO strings) in 394 Markdown files.
  - **Fix:** Created and ran `fix_date_format.py` to normalize all dates to `YYYY-MM-DD`. Merged via **PR #261**.
- **Ghost Files in Git Index:** Lint/Build failed because deleted legacy files in `src/pages` (e.g., `src/pages/fr/posts/...`) were still tracked by Git.
  - **Fix:** Ran `git add -u` to sync deletions to the index. Merged via **PR #262**.

### 3. Current Status

- All fixes merged to `main`.
- Awaiting Vercel deployment confirmation.
- Next step: Smoke test live URLs once deployment succeeds.
