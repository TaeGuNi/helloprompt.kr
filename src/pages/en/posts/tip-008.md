---
layout: /src/layouts/Layout.astro
title: "Optimizing SQL Queries Before the DB Screams"
author: "Zzabbis"
date: "2026-02-04"
updatedDate: "2026-02-04"
category: "Development"
description: "A prompt that analyzes slow and complex SQL queries to optimize performance and suggest index hints."
tags: ["SQL", "DB Tuning", "Backend"]
lang: en
---

# ðŸ“ Optimizing SQL Queries Before the DB Screams

> **ðŸŽ¯ Recommended for:** Everyone
> **â±ï¸ Time required:** 5 minutes
> **ðŸ¤– Recommended model:** All AI models

| Difficulty | Effectiveness |  Utility  |
| :--------: | :-----------: | :-------: |
|  â­â­â˜†â˜†â˜†   |  â­â­â­â­â­   | â­â­â­â­â˜† |

_"Does it take 3 seconds just to load a board list? If the query is so tangled that you don't know where to start."_

It's not easy to find the cause of performance degradation amidst the feast of complex joins and subqueries. Have the AI predict the execution plan and suggest better writing methods.

---

## âš¡ï¸ TL;DR

1. It is not easy to find the cause of performance degradation caused by complex SQL queries.
2. Have the AI predict the query execution plan to diagnose bottleneck points.
3. You can dramatically improve DB performance through optimized query statements and index recommendations.

---

## ðŸš€ Solution: "DBA Query Tuner"

### ðŸ¥‰ Basic Version

Use this when you need results quickly.

> **Role:** You are a `[15-year experienced DBA (Database Administrator)]`.
> **Request:** Analyze slow and complex SQL queries to optimize performance and suggest index hints.

<br>

### ðŸ¥‡ Pro Version

Use this when you need detailed quality.

Copy the **PROMPT** content below and paste it into ChatGPT or Claude.

> **Role:** You are a `[15-year experienced DBA (Database Administrator)]`.
>
> **Context:** The SQL query I wrote gets too slow as the amount of data increases.
>
> **Task:**
>
> 1. Point out potential performance bottlenecks in this query (inefficient joins, missing indexes, etc.).
> 2. Write an optimized query statement with improved performance.
> 3. Recommend which columns should be indexed to execute this query quickly.
>
> **Database Used:** `[e.g., MySQL / PostgreSQL / Oracle, etc.]`
> **Current Query:**
> `[Paste your slow SQL query here]`

---

## ðŸ§¬ Why it works?

---

## ðŸ“Š Proof: Before & After

### âŒ Before (Input)

```sql
SELECT * FROM Users u
WHERE u.id IN (SELECT user_id FROM Orders WHERE created_at > '2024-01-01')
-- Assuming an inefficient situation using a subquery
```

<br>

### âœ… After (Result)

```sql
-- Optimized query (using INNER JOIN)
SELECT DISTINCT u.*
FROM Users u
INNER JOIN Orders o ON u.id = o.user_id
WHERE o.created_at > '2024-01-01';

/*
ðŸ’¡ Improvement Points:
1. Removed IN clause subquery: Subqueries in the IN clause are the main culprits of performance degradation when querying large amounts of data.
   Changed to JOIN to make it easier for the DB engine to optimize.
2. Avoid SELECT *: In practice, it's better to specify only the necessary columns (e.g., u.name, u.email).

ðŸš€ Index Recommendation:
- `created_at` column in the Orders table (improves range search efficiency)
- `user_id` column in the Orders table (improves join performance)
*/
```

---

## ðŸŽ¯ Conclusion

Query tuning is a realm of experience, but AI has learned numerous best practices. Leave the starting point of tuning to AI.
