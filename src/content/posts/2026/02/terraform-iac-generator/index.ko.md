---
layout: /src/layouts/Layout.astro
title: "í…Œë¼í¼(Terraform) IaC ì½”ë“œ ìƒì„±ê¸°"
author: "Zzabbis"
date: "2026-02-09"
updatedDate: "2026-02-09"
category: "DevOps"
description: "í´ë¼ìš°ë“œ ì¸í”„ë¼ë¥¼ ì½”ë“œë¡œ ê´€ë¦¬(IaC)í•˜ê¸° ìœ„í•œ í”„ë¡œë•ì…˜ ë ˆë²¨ì˜ Terraform ëª¨ë“ˆì„ ì•ˆì „í•˜ê³  ë¹ ë¥´ê²Œ ìƒì„±í•©ë‹ˆë‹¤."
tags: ["DevOps", "Terraform", "AWS"]
---

# ğŸ—ï¸ ì¸í”„ë¼, ì´ì œ í´ë¦­ì§ˆ ê·¸ë§Œ! Terraform ì½”ë“œ ìƒì„±ê¸°

- **ğŸ¯ ì¶”ì²œ ëŒ€ìƒ:** AWS ì½˜ì†”ì—ì„œ ê¸¸ì„ ìƒì€ ê°œë°œì, ì¸í”„ë¼ ê´€ë¦¬ê°€ ê·€ì°®ì€ ë°±ì—”ë“œ ê°œë°œì
- **â±ï¸ ì†Œìš” ì‹œê°„:** ê³µì‹ ë¬¸ì„œ ë’¤ì ì´ëŠ” ì‹œê°„ 1ì‹œê°„ â†’ 3ë¶„ìœ¼ë¡œ ë‹¨ì¶•
- **ğŸ¤– ì¶”ì²œ ëª¨ë¸:** Claude 3.5 Sonnet (ì½”ë”© ë° ì•„í‚¤í…ì²˜ ì„¤ê³„ íŠ¹í™”)

- â­ **ë‚œì´ë„:** â­â­â­â˜†â˜†
- âš¡ï¸ **íš¨ê³¼ì„±:** â­â­â­â­â­
- ğŸš€ **í™œìš©ë„:** â­â­â­â­â˜†

> _"í´ë¦­ ì‹¤ìˆ˜ í•œ ë²ˆì— ì„œë²„ê°€ ë‚ ì•„ê°€ëŠ” ì•„ì°”í•œ ê²½í—˜, ì–¸ì œê¹Œì§€ ì½˜ì†” ì°½ë§Œ ë¶™ì¡ê³  ê³„ì‹¤ ê±´ê°€ìš”?"_

ì¸í”„ë¼ëŠ” ì• ì™„ë™ë¬¼ì´ ì•„ë‹ˆë¼ ê°€ì¶•ì²˜ëŸ¼ ë‹¤ë¤„ì•¼ í•©ë‹ˆë‹¤. ì„œë²„ì— ë¬¸ì œê°€ ìƒê¸°ë©´ ë°¤ìƒˆì›Œ ê³ ì¹˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ê°€ì°¨ ì—†ì´ íê¸°í•˜ê³  ë˜‘ê°™ì€ ì„œë²„ë¥¼ 1ì´ˆ ë§Œì— ìƒˆë¡œ ë„ì›Œì•¼ í•˜ì£ . ì´ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ê²ƒì´ ë°”ë¡œ **IaC(Infrastructure as Code)**ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ HCL(HashiCorp Configuration Language)ì˜ ë³µì¡í•œ ë¬¸ë²•ê³¼ ìˆ˜ë§ì€ Provider ì˜µì…˜ì„ ë§¤ë²ˆ ì™¸ìš°ê³  ì‘ì„±í•˜ê¸°ë€ ì‰½ì§€ ì•ŠìŠµë‹ˆë‹¤.

ì´ í”„ë¡¬í”„íŠ¸ëŠ” "AWSì— EC2 í•˜ë‚˜ë‘ DB í•˜ë‚˜ ì—°ê²°í•´ì„œ ë„ì›Œì¤˜"ë¼ëŠ” ë§‰ì—°í•œ ìš”êµ¬ì‚¬í•­ì„, ë‹¹ì¥ ì‹¤ë¬´ì— íˆ¬ì… ê°€ëŠ¥í•œ **ë³´ì•ˆ ê·œì • ë° ëª¨ë“ˆí™”ê°€ ì ìš©ëœ ì™„ë²½í•œ í…Œë¼í¼ ì½”ë“œ**ë¡œ ë³€í™˜í•´ ì¤ë‹ˆë‹¤.

---

## âš¡ï¸ 3ì¤„ ìš”ì•½ (TL;DR)

1. êµ¬êµ¬ì ˆì ˆ ë¬¸ì„œ ì°¾ì„ í•„ìš” ì—†ì´ **í‘œì¤€ HCL ë¬¸ë²•ì„ ì¤€ìˆ˜í•˜ëŠ” ì½”ë“œ**ë¥¼ ì¦‰ì‹œ ìƒì„±í•©ë‹ˆë‹¤.
2. 0.0.0.0/0 í—ˆìš© ê°™ì€ ì¹˜ëª…ì  ì‹¤ìˆ˜ë¥¼ ë§‰ê¸° ìœ„í•´ **ìµœì†Œ ê¶Œí•œ ë³´ì•ˆ ì„¤ì •(SG, IAM)**ì„ ê°•ì œí•©ë‹ˆë‹¤.
3. í•˜ë“œì½”ë”©ì„ ë°°ì œí•˜ê³  `variables.tf`, `outputs.tf`ë¡œ ë¶„ë¦¬í•˜ì—¬ **ì¬ì‚¬ìš©ì„± ë†’ì€ ëª¨ë“ˆ**ì„ ì„¤ê³„í•©ë‹ˆë‹¤.

---

## ğŸš€ í•´ê²°ì±…: "ì¸í”„ë¼ ë§ˆìŠ¤í„° ë¹Œë”"

### ğŸ¥‰ Basic Version (ê¸°ë³¸í˜•)

í…ŒìŠ¤íŠ¸ìš© ë¦¬ì†ŒìŠ¤ í•˜ë‚˜ê°€ ê¸‰í•˜ê²Œ í•„ìš”í•  ë•Œ ê°€ë³ê²Œ ì‚¬ìš©í•˜ì„¸ìš”.

> **ì—­í•  (Role):** ë„ˆëŠ” ì‹œë‹ˆì–´ DevOps ì—”ì§€ë‹ˆì–´ì•¼.
> **ìš”ì²­ (Task):** AWS `[ì„œë¹„ìŠ¤ëª…]` ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ Terraform ì½”ë“œë¥¼ ì‘ì„±í•´ì¤˜.
> **ì¡°ê±´ (Constraints):** ìµœì‹  AWS Provider ë²„ì „ì„ ì‚¬ìš©í•˜ê³ , í•˜ë“œì½”ë”© ì—†ì´ ë³€ìˆ˜(variable) ì²˜ë¦¬ë¥¼ í•´ì¤˜.

<br>

### ğŸ¥‡ Pro Version (ì „ë¬¸ê°€í˜•)

ë³´ì•ˆê³¼ ê³ ê°€ìš©ì„±ì´ í•„ìˆ˜ì ì¸ ì‹¤ì œ í”„ë¡œë•ì…˜(ìš´ì˜) í™˜ê²½ì„ êµ¬ì¶•í•  ë•Œ ì‚¬ìš©í•˜ì„¸ìš”.

> **ì—­í•  (Role):** ë„ˆëŠ” í´ë¼ìš°ë“œ ë³´ì•ˆê³¼ ê³ ê°€ìš©ì„±(HA) ì„¤ê³„ì— ì •í†µí•œ 10ë…„ ì°¨ í´ë¼ìš°ë“œ ì•„í‚¤í…íŠ¸ì´ì Terraform ì „ë¬¸ê°€ì•¼.
>
> **ìƒí™© (Context):**
>
> - ë°°ê²½: ë‚˜ëŠ” í˜„ì¬ `[í”„ë¡œì íŠ¸ ì„¤ëª…, ì˜ˆ: ì´ˆë‹¹ 1ë§Œ ê±´ì˜ íŠ¸ë˜í”½ì„ ì²˜ë¦¬í•˜ëŠ” ê¸€ë¡œë²Œ ì´ì»¤ë¨¸ìŠ¤ ë°±ì—”ë“œ]` êµ¬ì¶•ì„ ìœ„í•œ ì¸í”„ë¼ë¥¼ AWSì— ì„¤ê³„í•˜ë ¤ê³  í•´.
> - ëª©í‘œ: ë³´ì•ˆ, ê³ ê°€ìš©ì„±, ê·¸ë¦¬ê³  ì² ì €í•œ ëª¨ë“ˆí™”ê°€ ì ìš©ëœ í”„ë¡œë•ì…˜ ë ˆë²¨ì˜ IaC(Infrastructure as Code) ì½”ë“œë¥¼ í™•ë³´í•˜ëŠ” ê²ƒ.
>
> **ìš”ì²­ (Task):**
>
> 1. **ì•„í‚¤í…ì²˜ êµ¬ì„±:** ìš”ì²­í•œ ì¸í”„ë¼ë¥¼ êµ¬ì¶•í•˜ê¸° ìœ„í•œ ë©”ì¸ ë¦¬ì†ŒìŠ¤ ì •ì˜(`main.tf`)ë¥¼ ì‘ì„±í•´ì¤˜.
> 2. **êµ¬ì¡°í™” ë° ëª¨ë“ˆí™”:** í•˜ë“œì½”ë”©ì„ ì—„ê²©íˆ ë°°ì œí•˜ê³ , `variables.tf`ì™€ `outputs.tf`ë¥¼ ëª…í™•íˆ ë¶„ë¦¬í•´ì¤˜.
> 3. **ë³´ì•ˆ ê·œì¹™ ê°•í™”:** Security Groupì€ ë°˜ë“œì‹œ ìµœì†Œ ê¶Œí•œ ì›ì¹™(Least Privilege, 0.0.0.0/0 ë¬´ì¡°ê±´ í—ˆìš© ê¸ˆì§€)ì„ ì ìš©í•´ì¤˜.
> 4. **ê¶Œí•œ ê´€ë¦¬:** í•„ìš”í•œ ê²½ìš° ìµœì†Œ ê¶Œí•œì´ ë¶€ì—¬ëœ IAM Roleê³¼ Policy ì½”ë“œë¥¼ í•¨ê»˜ ì‘ì„±í•´ì¤˜.
>
> **ì œì•½ì‚¬í•­ (Constraints):**
>
> - HashiCorp Configuration Language (HCL) ìµœì‹  ë¬¸ë²• ë° AWS Provider v5.0 ì´ìƒì„ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±í•  ê²ƒ.
> - ëª¨ë“  ë¦¬ì†ŒìŠ¤ ì´ë¦„ê³¼ íƒœê·¸(Tag)ì—ëŠ” `[í”„ë¡œì íŠ¸ëª…]` ì ‘ë‘ì‚¬ë¥¼ í¬í•¨í•  ê²ƒ.
> - `terraform fmt` ê¸°ì¤€ì˜ ë“¤ì—¬ì“°ê¸°ì™€ ìŠ¤íƒ€ì¼ ê°€ì´ë“œë¥¼ ì™„ë²½íˆ ì¤€ìˆ˜í•  ê²ƒ.
>
> **ì£¼ì˜ì‚¬í•­ (Warning):**
>
> - ì‹¤ë¬´ì—ì„œ ì‚¬ìš© ë¶ˆê°€ëŠ¥í•œ Deprecated ì˜µì…˜ì´ë‚˜ ì•ˆì „í•˜ì§€ ì•Šì€ ë³´ì•ˆ ê¸°ë³¸ê°’ì€ ì ˆëŒ€ ì‚¬ìš©í•˜ì§€ ë§ˆ. (í™˜ê° ë° ë³´ì•ˆ ì‚¬ê³  ë°©ì§€)

---

## ğŸ’¡ ì‘ì„±ì ì½”ë©˜íŠ¸ (Insight)

í…Œë¼í¼ ì½”ë“œë¥¼ AIì—ê²Œ ì „ì ìœ¼ë¡œ ë§¡ê¸¸ ë•Œ ê°€ì¥ ë¬´ì„œìš´ ì ì€ ë°”ë¡œ **'ë³´ì•ˆ(Security)'**ì…ë‹ˆë‹¤. ì¼ë°˜ì ì¸ í”„ë¡¬í”„íŠ¸ë¡œ ìƒì„±ëœ ì½”ë“œëŠ” í¸ì˜ë¥¼ ìœ„í•´ ë°©í™”ë²½ í¬íŠ¸ë¥¼ ì „ë¶€ ì—´ì–´ë²„ë¦¬ê±°ë‚˜(0.0.0.0/0), ë¶ˆí•„ìš”í•˜ê²Œ ë„“ì€ ê¶Œí•œì˜ IAM Roleì„ ë¶€ì—¬í•˜ëŠ” ê²½ìš°ê°€ ë§¤ìš° ì¦ìŠµë‹ˆë‹¤.

ìœ„ Pro ë²„ì „ í”„ë¡¬í”„íŠ¸ì˜ í•µì‹¬ì€ ë°”ë¡œ **'ìµœì†Œ ê¶Œí•œ ì›ì¹™'ê³¼ 'ëª¨ë“ˆí™”'ë¥¼ AIì—ê²Œ ê°•ì œ**í•˜ëŠ” ë° ìˆìŠµë‹ˆë‹¤. ì‹¤ë¬´ì—ì„œëŠ” ì´ í”„ë¡¬í”„íŠ¸ë¡œ íŠ¼íŠ¼í•œ ë¼ˆëŒ€ë¥¼ ë¨¼ì € ì¡ì€ ë’¤, `tfsec`ì´ë‚˜ `checkov` ê°™ì€ ì •ì  ë³´ì•ˆ ë¶„ì„ ë„êµ¬ë¥¼ CI/CD íŒŒì´í”„ë¼ì¸ì— íƒœì›Œ í•œ ë²ˆ ë” ê²€ì¦í•˜ëŠ” ë°©ì‹ì„ ê°•ë ¥íˆ ì¶”ì²œí•©ë‹ˆë‹¤. ì´ˆê¸° ì¸í”„ë¼ ì„¸íŒ…ì— ë“¤ì–´ê°€ë˜ ë©°ì¹ ì˜ ì‹œê°„ì´ ë‹¨ 3ë¶„ìœ¼ë¡œ ì¤„ì–´ë“œëŠ” ë§ˆë²•ì„ ê²½í—˜í•˜ì‹¤ ìˆ˜ ìˆì„ ê²ë‹ˆë‹¤.

---

## ğŸ™‹ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)

- **Q: AWS ë§ê³  GCPë‚˜ Azure í™˜ê²½ì—ì„œë„ ì“¸ ìˆ˜ ìˆë‚˜ìš”?**
  - A: ë„¤, ë‹¹ì—°í•©ë‹ˆë‹¤. `[ìƒí™©]`ê³¼ `[ì œì•½ì‚¬í•­]`ì—ì„œ Providerë¥¼ 'Google Cloud' ë˜ëŠ” 'AzureRM'ìœ¼ë¡œ ë³€ê²½í•˜ê³ , ìš”ì²­í•˜ëŠ” ì„œë¹„ìŠ¤ëª…ë§Œ ê° í´ë¼ìš°ë“œ ë²¤ë”ì˜ ëª…ì¹­ì— ë§ê²Œ ìˆ˜ì •í•´ì£¼ì‹œë©´ ì™„ë²½í•˜ê²Œ ë™ì‘í•©ë‹ˆë‹¤.

- **Q: AIê°€ ìê¾¸ êµ¬ë²„ì „(v0.11 ë“±) ë¬¸ë²•ìœ¼ë¡œ ì½”ë“œë¥¼ ì§œì¤˜ì„œ ì—ëŸ¬ê°€ ë‚©ë‹ˆë‹¤.**
  - A: êµ¬í˜• AI ëª¨ë¸(ì˜ˆ: GPT-3.5)ì„ ì‚¬ìš©í•˜ì‹¤ ë•Œ ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤. í”„ë¡¬í”„íŠ¸ì— 'Terraform ìµœì‹  ë¬¸ë²• ì‚¬ìš©'ì„ ëª…ì‹œí•´ ë‘ì—ˆìœ¼ë‚˜, ì¸í”„ë¼ ì½”ë“œ ìƒì„± ì‹œì—ëŠ” ê°€ê¸‰ì  ì½”ë”©ì— íŠ¹í™”ëœ **Claude 3.5 Sonnet**ì´ë‚˜ ìµœì‹  **GPT-4o** ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤. í›¨ì”¬ ì•ˆì •ì ì´ê³  íŠ¸ë Œë””í•œ HCL ì½”ë“œë¥¼ ë±‰ì–´ëƒ…ë‹ˆë‹¤.

---

## ğŸ§¬ í”„ë¡¬í”„íŠ¸ í•´ë¶€ (Why it works?)

1. **Role ë¶€ì—¬:** '10ë…„ ì°¨ í´ë¼ìš°ë“œ ì•„í‚¤í…íŠ¸'ë¼ëŠ” í˜ë¥´ì†Œë‚˜ë¥¼ í†µí•´, ë‹¨ìˆœí•œ ë¦¬ì†ŒìŠ¤ ë„ìš°ê¸°ë¥¼ ë„˜ì–´ ë³´ì•ˆê³¼ ê°€ìš©ì„±ì„ ê³ ë ¤í•œ ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ì•„í‚¤í…ì²˜ ì½”ë“œë¥¼ ìœ ë„í–ˆìŠµë‹ˆë‹¤.
2. **Constraints(ì œì•½):** HCL ìµœì‹  ë¬¸ë²•ê³¼ `terraform fmt` ì¤€ìˆ˜ë¥¼ ê°•ì œí•˜ì—¬, ë³µì‚¬ í›„ ì¦‰ì‹œ ì‹¤í–‰(`terraform init && terraform apply`)ì´ ê°€ëŠ¥í•œ ê¹”ë”í•˜ê³  í‘œì¤€í™”ëœ ê²°ê³¼ë¬¼ì„ ë³´ì¥í•©ë‹ˆë‹¤.
3. **ë³´ì•ˆ ë° ì˜ˆì™¸ í†µì œ:** 'ìµœì†Œ ê¶Œí•œ ì›ì¹™'ê³¼ 'ì•ˆì „í•˜ì§€ ì•Šì€ ê¸°ë³¸ê°’ ì‚¬ìš© ê¸ˆì§€'ë¥¼ ëª…ì‹œí•˜ì—¬ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì¹˜ëª…ì ì¼ ìˆ˜ ìˆëŠ” ë°©í™”ë²½(SG) ë° ê¶Œí•œ(IAM) ë‚¨ìš© ì‚¬ê³ ë¥¼ ì›ì²œ ì°¨ë‹¨í–ˆìŠµë‹ˆë‹¤.

---

## ğŸ“Š ì¦ëª…: Before & After

ë‹¨ìˆœíˆ "ë§Œë“¤ì–´ì¤˜"ë¼ê³  í–ˆì„ ë•Œì™€, êµ¬ì¡°í™”ëœ í”„ë¡¬í”„íŠ¸ë¥¼ ì‚¬ìš©í–ˆì„ ë•Œ AIê°€ ì¶œë ¥í•˜ëŠ” HCL ì½”ë“œì˜ í’ˆì§ˆ ì°¨ì´ëŠ” ê·¹ëª…í•©ë‹ˆë‹¤.

### âŒ Before (ë‹¨ìˆœí•œ ì…ë ¥)

```text
AWSì— VPC ë§Œë“¤ê³  í¼ë¸”ë¦­ ì„œë¸Œë„· 2ê°œë‘ í”„ë¼ì´ë¹— 2ê°œ ë§Œë“¤ì–´ì¤˜.
```

**ê²°ê³¼ (í•˜ë“œì½”ë”© ë° ë³´ì•ˆ ì·¨ì•½):**

```hcl
resource "aws_vpc" "main" {
  cidr_block = "10.0.0.0/16"
}
# ë³€ìˆ˜ ì²˜ë¦¬ ì—†ì´ í•˜ë“œì½”ë”©ë¨, íƒœê¹…(Tags) ëˆ„ë½, í™•ì¥ì´ ë¶ˆê°€ëŠ¥í•œ ë‹¨ì¼ íŒŒì¼ êµ¬ì¡°
```

### âœ… After (Pro í”„ë¡¬í”„íŠ¸ ì‚¬ìš© ê²°ê³¼)

**ê²°ê³¼ (ëª¨ë“ˆí™” ë° ì‹¤ë¬´ í‘œì¤€ ì ìš©):**

```hcl
# main.tf
module "vpc" {
  source  = "terraform-aws-modules/vpc/aws"
  version = "~> 5.0"

  name = "${var.project_name}-vpc"
  cidr = var.vpc_cidr

  azs             = var.availability_zones
  private_subnets = var.private_subnets
  public_subnets  = var.public_subnets

  enable_nat_gateway     = true
  single_nat_gateway     = false # ê³ ê°€ìš©ì„±ì„ ìœ„í•´ AZë³„ NAT êµ¬ì„±
  one_nat_gateway_per_az = true

  tags = {
    Environment = var.environment
    Project     = var.project_name
    ManagedBy   = "Terraform"
  }
}
```

_(â€» ì´ ì™¸ì—ë„ variables.tf, outputs.tfê°€ ì™„ë²½í•˜ê²Œ ë¶„ë¦¬ë˜ì–´ ì¶œë ¥ë©ë‹ˆë‹¤.)_

---

## ğŸ¯ ê²°ë¡ 

ì¸í”„ë¼ êµ¬ì„±ì€ ë§ˆìš°ìŠ¤ í´ë¦­ìœ¼ë¡œ í•˜ëŠ” ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤. ì½”ë“œë¡œ ê¸°ë¡í•˜ê³ , ë¦¬ë·° ë°›ê³ , ë²„ì „ ê´€ë¦¬ë¥¼ í•´ì•¼ í•©ë‹ˆë‹¤.
ì´ì œ ë³µì¡í•œ í…Œë¼í¼ ë¬¸ë²•ì— ì–½ë§¤ì´ì§€ ë§ê³ , AIì˜ í˜ì„ ë¹Œë ¤ ê²¬ê³ í•˜ê³  ì•ˆì „í•œ í´ë¼ìš°ë“œ ì„±ì„ êµ¬ì¶•í•´ ë³´ì„¸ìš”.

ì•ˆì „í•˜ê²Œ ì¸í”„ë¼ ë°°í¬í•˜ì‹œê³ , ì´ì œ ì¹¼í‡´í•˜ì„¸ìš”! ğŸ·
